{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _Batchinator = _interopRequireDefault(require(\"../Batchinator\"));\nvar _FillRateHelper = _interopRequireDefault(require(\"../FillRateHelper\"));\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _RefreshControl = _interopRequireDefault(require(\"../../../exports/RefreshControl\"));\nvar _ScrollView = _interopRequireDefault(require(\"../../../exports/ScrollView\"));\nvar _StyleSheet = _interopRequireDefault(require(\"../../../exports/StyleSheet\"));\nvar _UIManager = _interopRequireDefault(require(\"../../../exports/UIManager\"));\nvar _View = _interopRequireDefault(require(\"../../../exports/View\"));\nvar _ViewabilityHelper = _interopRequireDefault(require(\"../ViewabilityHelper\"));\nvar _VirtualizeUtils = require(\"../VirtualizeUtils\");\nvar _findNodeHandle = _interopRequireDefault(require(\"../../../exports/findNodeHandle\"));\nvar _infoLog = _interopRequireDefault(require(\"../infoLog\"));\nvar _invariant = _interopRequireDefault(require(\"fbjs/lib/invariant\"));\nvar _warning = _interopRequireDefault(require(\"fbjs/lib/warning\"));\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n  return target;\n};\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar flattenStyle = _StyleSheet.default.flatten;\nvar __DEV__ = process.env.NODE_ENV !== 'production';\n\nvar _usedIndexForKey = false;\n\nvar VirtualizedList = function (_React$PureComponent) {\n  _inherits(VirtualizedList, _React$PureComponent);\n\n  VirtualizedList.prototype.scrollToEnd = function scrollToEnd(params) {\n    var animated = params ? params.animated : true;\n    var veryLast = this.props.getItemCount(this.props.data) - 1;\n    var frame = this._getFrameMetricsApprox(veryLast);\n    var offset = Math.max(0, frame.offset + frame.length + this._footerLength - this._scrollMetrics.visibleLength);\n    this._scrollRef.scrollTo(\n    this.props.horizontal ? {\n      x: offset,\n      animated: animated\n    } : {\n      y: offset,\n      animated: animated\n    });\n  };\n\n  VirtualizedList.prototype.scrollToIndex = function scrollToIndex(params) {\n    var _props = this.props,\n      data = _props.data,\n      horizontal = _props.horizontal,\n      getItemCount = _props.getItemCount,\n      getItemLayout = _props.getItemLayout,\n      onScrollToIndexFailed = _props.onScrollToIndexFailed;\n    var animated = params.animated,\n      index = params.index,\n      viewOffset = params.viewOffset,\n      viewPosition = params.viewPosition;\n    (0, _invariant.default)(index >= 0 && index < getItemCount(data), 'scrollToIndex out of range: ' + index + ' vs ' + (getItemCount(data) - 1));\n    if (!getItemLayout && index > this._highestMeasuredFrameIndex) {\n      (0, _invariant.default)(!!onScrollToIndexFailed, 'scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, ' + 'otherwise there is no way to know the location of offscreen indices or handle failures.');\n      onScrollToIndexFailed({\n        averageItemLength: this._averageCellLength,\n        highestMeasuredFrameIndex: this._highestMeasuredFrameIndex,\n        index: index\n      });\n      return;\n    }\n    var frame = this._getFrameMetricsApprox(index);\n    var offset = Math.max(0, frame.offset - (viewPosition || 0) * (this._scrollMetrics.visibleLength - frame.length)) - (viewOffset || 0);\n    this._scrollRef.scrollTo(\n    horizontal ? {\n      x: offset,\n      animated: animated\n    } : {\n      y: offset,\n      animated: animated\n    });\n  };\n\n  VirtualizedList.prototype.scrollToItem = function scrollToItem(params) {\n    var item = params.item;\n    var _props2 = this.props,\n      data = _props2.data,\n      getItem = _props2.getItem,\n      getItemCount = _props2.getItemCount;\n    var itemCount = getItemCount(data);\n    for (var _index = 0; _index < itemCount; _index++) {\n      if (getItem(data, _index) === item) {\n        this.scrollToIndex(Object.assign({}, params, {\n          index: _index\n        }));\n        break;\n      }\n    }\n  };\n\n  VirtualizedList.prototype.scrollToOffset = function scrollToOffset(params) {\n    var animated = params.animated,\n      offset = params.offset;\n\n    this._scrollRef.scrollTo(\n    this.props.horizontal ? {\n      x: offset,\n      animated: animated\n    } : {\n      y: offset,\n      animated: animated\n    });\n  };\n  VirtualizedList.prototype.recordInteraction = function recordInteraction() {\n    this._nestedChildLists.forEach(function (childList) {\n      childList.ref && childList.ref.recordInteraction();\n    });\n    this._viewabilityTuples.forEach(function (t) {\n      t.viewabilityHelper.recordInteraction();\n    });\n    this._updateViewableItems(this.props.data);\n  };\n  VirtualizedList.prototype.flashScrollIndicators = function flashScrollIndicators() {\n    this._scrollRef.flashScrollIndicators();\n  };\n\n  VirtualizedList.prototype.getScrollResponder = function getScrollResponder() {\n    if (this._scrollRef && this._scrollRef.getScrollResponder) {\n      return this._scrollRef.getScrollResponder();\n    }\n  };\n  VirtualizedList.prototype.getScrollableNode = function getScrollableNode() {\n    if (this._scrollRef && this._scrollRef.getScrollableNode) {\n      return this._scrollRef.getScrollableNode();\n    } else {\n      return (0, _findNodeHandle.default)(this._scrollRef);\n    }\n  };\n  VirtualizedList.prototype.setNativeProps = function setNativeProps(props) {\n    if (this._scrollRef) {\n      this._scrollRef.setNativeProps(props);\n    }\n  };\n  VirtualizedList.prototype.getChildContext = function getChildContext() {\n    return {\n      virtualizedList: {\n        getScrollMetrics: this._getScrollMetrics,\n        horizontal: this.props.horizontal,\n        getOutermostParentListRef: this._getOutermostParentListRef,\n        getNestedChildState: this._getNestedChildState,\n        registerAsNestedChild: this._registerAsNestedChild,\n        unregisterAsNestedChild: this._unregisterAsNestedChild\n      }\n    };\n  };\n  VirtualizedList.prototype._getCellKey = function _getCellKey() {\n    return this.context.virtualizedCell && this.context.virtualizedCell.cellKey || 'rootList';\n  };\n  VirtualizedList.prototype.hasMore = function hasMore() {\n    return this._hasMore;\n  };\n  function VirtualizedList(props, context) {\n    _classCallCheck(this, VirtualizedList);\n    var _this = _possibleConstructorReturn(this, _React$PureComponent.call(this, props, context));\n    _initialiseProps.call(_this);\n    (0, _invariant.default)(!props.onScroll || !props.onScroll.__isNative, 'Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent ' + 'to support native onScroll events with useNativeDriver');\n    (0, _invariant.default)(props.windowSize > 0, 'VirtualizedList: The windowSize prop must be present and set to a value greater than 0.');\n    _this._fillRateHelper = new _FillRateHelper.default(_this._getFrameMetrics);\n    _this._updateCellsToRenderBatcher = new _Batchinator.default(_this._updateCellsToRender, _this.props.updateCellsBatchingPeriod);\n    if (_this.props.viewabilityConfigCallbackPairs) {\n      _this._viewabilityTuples = _this.props.viewabilityConfigCallbackPairs.map(function (pair) {\n        return {\n          viewabilityHelper: new _ViewabilityHelper.default(pair.viewabilityConfig),\n          onViewableItemsChanged: pair.onViewableItemsChanged\n        };\n      });\n    } else if (_this.props.onViewableItemsChanged) {\n      _this._viewabilityTuples.push({\n        viewabilityHelper: new _ViewabilityHelper.default(_this.props.viewabilityConfig),\n        onViewableItemsChanged: _this.props.onViewableItemsChanged\n      });\n    }\n    var initialState = {\n      first: _this.props.initialScrollIndex || 0,\n      last: Math.min(_this.props.getItemCount(_this.props.data), (_this.props.initialScrollIndex || 0) + _this.props.initialNumToRender) - 1\n    };\n    if (_this._isNestedWithSameOrientation()) {\n      var storedState = _this.context.virtualizedList.getNestedChildState(_this.props.listKey || _this._getCellKey());\n      if (storedState) {\n        initialState = storedState;\n        _this.state = storedState;\n        _this._frames = storedState.frames;\n      }\n    }\n    _this.state = initialState;\n    return _this;\n  }\n  VirtualizedList.prototype.componentDidMount = function componentDidMount() {\n    if (this._isNestedWithSameOrientation()) {\n      this.context.virtualizedList.registerAsNestedChild({\n        cellKey: this._getCellKey(),\n        key: this.props.listKey || this._getCellKey(),\n        ref: this\n      });\n    }\n  };\n  VirtualizedList.prototype.componentWillUnmount = function componentWillUnmount() {\n    if (this._isNestedWithSameOrientation()) {\n      this.context.virtualizedList.unregisterAsNestedChild({\n        key: this.props.listKey || this._getCellKey(),\n        state: {\n          first: this.state.first,\n          last: this.state.last,\n          frames: this._frames\n        }\n      });\n    }\n    this._updateViewableItems(null);\n    this._updateCellsToRenderBatcher.dispose({\n      abort: true\n    });\n    this._viewabilityTuples.forEach(function (tuple) {\n      tuple.viewabilityHelper.dispose();\n    });\n    this._fillRateHelper.deactivateAndFlush();\n  };\n  VirtualizedList.getDerivedStateFromProps = function getDerivedStateFromProps(newProps, prevState) {\n    var data = newProps.data,\n      extraData = newProps.extraData,\n      getItemCount = newProps.getItemCount,\n      maxToRenderPerBatch = newProps.maxToRenderPerBatch;\n\n    return {\n      first: Math.max(0, Math.min(prevState.first, getItemCount(data) - 1 - maxToRenderPerBatch)),\n      last: Math.max(0, Math.min(prevState.last, getItemCount(data) - 1))\n    };\n  };\n  VirtualizedList.prototype._pushCells = function _pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, first, last, inversionStyle) {\n    var _this2 = this;\n    var _props3 = this.props,\n      CellRendererComponent = _props3.CellRendererComponent,\n      ItemSeparatorComponent = _props3.ItemSeparatorComponent,\n      data = _props3.data,\n      getItem = _props3.getItem,\n      getItemCount = _props3.getItemCount,\n      horizontal = _props3.horizontal,\n      keyExtractor = _props3.keyExtractor;\n    var stickyOffset = this.props.ListHeaderComponent ? 1 : 0;\n    var end = getItemCount(data) - 1;\n    var prevCellKey = void 0;\n    last = Math.min(end, last);\n    var _loop = function _loop(ii) {\n      var item = getItem(data, ii);\n      var key = keyExtractor(item, ii);\n      _this2._indicesToKeys.set(ii, key);\n      if (stickyIndicesFromProps.has(ii + stickyOffset)) {\n        stickyHeaderIndices.push(cells.length);\n      }\n      cells.push(_react.default.createElement(CellRenderer, {\n        CellRendererComponent: CellRendererComponent,\n        ItemSeparatorComponent: ii < end ? ItemSeparatorComponent : undefined,\n        cellKey: key,\n        fillRateHelper: _this2._fillRateHelper,\n        horizontal: horizontal,\n        index: ii,\n        inversionStyle: inversionStyle,\n        item: item,\n        key: key,\n        prevCellKey: prevCellKey,\n        onUpdateSeparators: _this2._onUpdateSeparators,\n        onLayout: function onLayout(e) {\n          return _this2._onCellLayout(e, key, ii);\n        },\n        onUnmount: _this2._onCellUnmount,\n        parentProps: _this2.props,\n        ref: function (_ref) {\n          function ref(_x) {\n            return _ref.apply(this, arguments);\n          }\n          ref.toString = function () {\n            return _ref.toString();\n          };\n          return ref;\n        }(function (ref) {\n          _this2._cellRefs[key] = ref;\n        })\n      }));\n      prevCellKey = key;\n    };\n    for (var ii = first; ii <= last; ii++) {\n      _loop(ii);\n    }\n  };\n  VirtualizedList.prototype._isVirtualizationDisabled = function _isVirtualizationDisabled() {\n    return this.props.disableVirtualization;\n  };\n  VirtualizedList.prototype._isNestedWithSameOrientation = function _isNestedWithSameOrientation() {\n    var nestedContext = this.context.virtualizedList;\n    return !!(nestedContext && !!nestedContext.horizontal === !!this.props.horizontal);\n  };\n  VirtualizedList.prototype.render = function render() {\n    if (__DEV__) {\n      var flatStyles = flattenStyle(this.props.contentContainerStyle);\n      (0, _warning.default)(flatStyles == null || flatStyles.flexWrap !== 'wrap', '`flexWrap: `wrap`` is not supported with the `VirtualizedList` components.' + 'Consider using `numColumns` with `FlatList` instead.');\n    }\n    var _props4 = this.props,\n      ListEmptyComponent = _props4.ListEmptyComponent,\n      ListFooterComponent = _props4.ListFooterComponent,\n      ListHeaderComponent = _props4.ListHeaderComponent;\n    var _props5 = this.props,\n      data = _props5.data,\n      horizontal = _props5.horizontal;\n    var isVirtualizationDisabled = this._isVirtualizationDisabled();\n    var inversionStyle = this.props.inverted ? this.props.horizontal ? styles.horizontallyInverted : styles.verticallyInverted : null;\n    var cells = [];\n    var stickyIndicesFromProps = new Set(this.props.stickyHeaderIndices);\n    var stickyHeaderIndices = [];\n    if (ListHeaderComponent) {\n      if (stickyIndicesFromProps.has(0)) {\n        stickyHeaderIndices.push(0);\n      }\n      var element = _react.default.isValidElement(ListHeaderComponent) ? ListHeaderComponent :\n      _react.default.createElement(ListHeaderComponent, null);\n      cells.push(_react.default.createElement(VirtualizedCellWrapper, {\n        cellKey: this._getCellKey() + '-header',\n        key: '$header'\n      }, _react.default.createElement(_View.default, {\n        onLayout: this._onLayoutHeader,\n        style: inversionStyle\n      }, element)));\n    }\n    var itemCount = this.props.getItemCount(data);\n    if (itemCount > 0) {\n      _usedIndexForKey = false;\n      var spacerKey = !horizontal ? 'height' : 'width';\n      var lastInitialIndex = this.props.initialScrollIndex ? -1 : this.props.initialNumToRender - 1;\n      var _state = this.state,\n        _first = _state.first,\n        _last = _state.last;\n      this._pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, 0, lastInitialIndex, inversionStyle);\n      var firstAfterInitial = Math.max(lastInitialIndex + 1, _first);\n      if (!isVirtualizationDisabled && _first > lastInitialIndex + 1) {\n        var insertedStickySpacer = false;\n        if (stickyIndicesFromProps.size > 0) {\n          var stickyOffset = ListHeaderComponent ? 1 : 0;\n          for (var ii = firstAfterInitial - 1; ii > lastInitialIndex; ii--) {\n            if (stickyIndicesFromProps.has(ii + stickyOffset)) {\n              var _ref2, _ref3;\n              var initBlock = this._getFrameMetricsApprox(lastInitialIndex);\n              var stickyBlock = this._getFrameMetricsApprox(ii);\n              var leadSpace = stickyBlock.offset - (initBlock.offset + initBlock.length);\n              cells.push(_react.default.createElement(_View.default, {\n                key: '$sticky_lead',\n                style: (_ref2 = {}, _ref2[spacerKey] = leadSpace, _ref2)\n              }));\n              this._pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, ii, ii, inversionStyle);\n              var trailSpace = this._getFrameMetricsApprox(_first).offset - (stickyBlock.offset + stickyBlock.length);\n              cells.push(_react.default.createElement(_View.default, {\n                key: '$sticky_trail',\n                style: (_ref3 = {}, _ref3[spacerKey] = trailSpace, _ref3)\n              }));\n              insertedStickySpacer = true;\n              break;\n            }\n          }\n        }\n        if (!insertedStickySpacer) {\n          var _ref4;\n          var _initBlock = this._getFrameMetricsApprox(lastInitialIndex);\n          var firstSpace = this._getFrameMetricsApprox(_first).offset - (_initBlock.offset + _initBlock.length);\n          cells.push(_react.default.createElement(_View.default, {\n            key: '$lead_spacer',\n            style: (_ref4 = {}, _ref4[spacerKey] = firstSpace, _ref4)\n          }));\n        }\n      }\n      this._pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, firstAfterInitial, _last, inversionStyle);\n      if (!this._hasWarned.keys && _usedIndexForKey) {\n        console.warn('VirtualizedList: missing keys for items, make sure to specify a key property on each ' + 'item or provide a custom keyExtractor.');\n        this._hasWarned.keys = true;\n      }\n      if (!isVirtualizationDisabled && _last < itemCount - 1) {\n        var _ref5;\n        var lastFrame = this._getFrameMetricsApprox(_last);\n        var end = this.props.getItemLayout ? itemCount - 1 : Math.min(itemCount - 1, this._highestMeasuredFrameIndex);\n        var endFrame = this._getFrameMetricsApprox(end);\n        var tailSpacerLength = endFrame.offset + endFrame.length - (lastFrame.offset + lastFrame.length);\n        cells.push(_react.default.createElement(_View.default, {\n          key: '$tail_spacer',\n          style: (_ref5 = {}, _ref5[spacerKey] = tailSpacerLength, _ref5)\n        }));\n      }\n    } else if (ListEmptyComponent) {\n      var _element = _react.default.isValidElement(ListEmptyComponent) ? ListEmptyComponent :\n      _react.default.createElement(ListEmptyComponent, null);\n      cells.push(_react.default.createElement(_View.default, {\n        key: '$empty',\n        onLayout: this._onLayoutEmpty,\n        style: inversionStyle\n      }, _element));\n    }\n    if (ListFooterComponent) {\n      var _element2 = _react.default.isValidElement(ListFooterComponent) ? ListFooterComponent :\n      _react.default.createElement(ListFooterComponent, null);\n      cells.push(_react.default.createElement(VirtualizedCellWrapper, {\n        cellKey: this._getCellKey() + '-footer',\n        key: '$footer'\n      }, _react.default.createElement(_View.default, {\n        onLayout: this._onLayoutFooter,\n        style: inversionStyle\n      }, _element2)));\n    }\n    var scrollProps = Object.assign({}, this.props, {\n      onContentSizeChange: this._onContentSizeChange,\n      onLayout: this._onLayout,\n      onScroll: this._onScroll,\n      onScrollBeginDrag: this._onScrollBeginDrag,\n      onScrollEndDrag: this._onScrollEndDrag,\n      onMomentumScrollEnd: this._onMomentumScrollEnd,\n      scrollEventThrottle: this.props.scrollEventThrottle,\n      invertStickyHeaders: this.props.invertStickyHeaders !== undefined ? this.props.invertStickyHeaders : this.props.inverted,\n      stickyHeaderIndices: stickyHeaderIndices\n    });\n    if (inversionStyle) {\n      scrollProps.style = [inversionStyle, this.props.style];\n    }\n    this._hasMore = this.state.last < this.props.getItemCount(this.props.data) - 1;\n    var ret = _react.default.cloneElement((this.props.renderScrollComponent || this._defaultRenderScrollComponent)(scrollProps), {\n      ref: this._captureScrollRef\n    }, cells);\n    if (this.props.debug) {\n      return _react.default.createElement(_View.default, {\n        style: {\n          flex: 1\n        }\n      }, ret, this._renderDebugOverlay());\n    } else {\n      return ret;\n    }\n  };\n  VirtualizedList.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _props6 = this.props,\n      data = _props6.data,\n      extraData = _props6.extraData;\n    if (data !== prevProps.data || extraData !== prevProps.extraData) {\n      this._hasDataChangedSinceEndReached = true;\n\n      this._viewabilityTuples.forEach(function (tuple) {\n        tuple.viewabilityHelper.resetViewableIndices();\n      });\n    }\n    this._scheduleCellsToRenderUpdate();\n  };\n\n  VirtualizedList.prototype._computeBlankness = function _computeBlankness() {\n    this._fillRateHelper.computeBlankness(this.props, this.state, this._scrollMetrics);\n  };\n  VirtualizedList.prototype._onCellLayout = function _onCellLayout(e, cellKey, index) {\n    var layout = e.nativeEvent.layout;\n    var next = {\n      offset: this._selectOffset(layout),\n      length: this._selectLength(layout),\n      index: index,\n      inLayout: true\n    };\n    var curr = this._frames[cellKey];\n    if (!curr || next.offset !== curr.offset || next.length !== curr.length || index !== curr.index) {\n      this._totalCellLength += next.length - (curr ? curr.length : 0);\n      this._totalCellsMeasured += curr ? 0 : 1;\n      this._averageCellLength = this._totalCellLength / this._totalCellsMeasured;\n      this._frames[cellKey] = next;\n      this._highestMeasuredFrameIndex = Math.max(this._highestMeasuredFrameIndex, index);\n      this._scheduleCellsToRenderUpdate();\n    } else {\n      this._frames[cellKey].inLayout = true;\n    }\n    this._computeBlankness();\n  };\n  VirtualizedList.prototype._measureLayoutRelativeToContainingList = function _measureLayoutRelativeToContainingList() {\n    var _this3 = this;\n    _UIManager.default.measureLayout((0, _findNodeHandle.default)(this), (0, _findNodeHandle.default)(this.context.virtualizedList.getOutermostParentListRef()), function (error) {\n      console.warn(\"VirtualizedList: Encountered an error while measuring a list's\" + ' offset from its containing VirtualizedList.');\n    }, function (x, y, width, height) {\n      _this3._offsetFromParentVirtualizedList = _this3._selectOffset({\n        x: x,\n        y: y\n      });\n      _this3._scrollMetrics.contentLength = _this3._selectLength({\n        width: width,\n        height: height\n      });\n      var scrollMetrics = _this3._convertParentScrollMetrics(_this3.context.virtualizedList.getScrollMetrics());\n      _this3._scrollMetrics.visibleLength = scrollMetrics.visibleLength;\n      _this3._scrollMetrics.offset = scrollMetrics.offset;\n    });\n  };\n  VirtualizedList.prototype._renderDebugOverlay = function _renderDebugOverlay() {\n    var normalize = this._scrollMetrics.visibleLength / this._scrollMetrics.contentLength;\n    var framesInLayout = [];\n    var itemCount = this.props.getItemCount(this.props.data);\n    for (var ii = 0; ii < itemCount; ii++) {\n      var frame = this._getFrameMetricsApprox(ii);\n      if (frame.inLayout) {\n        framesInLayout.push(frame);\n      }\n    }\n    var windowTop = this._getFrameMetricsApprox(this.state.first).offset;\n    var frameLast = this._getFrameMetricsApprox(this.state.last);\n    var windowLen = frameLast.offset + frameLast.length - windowTop;\n    var visTop = this._scrollMetrics.offset;\n    var visLen = this._scrollMetrics.visibleLength;\n    var baseStyle = {\n      position: 'absolute',\n      top: 0,\n      right: 0\n    };\n    return _react.default.createElement(_View.default, {\n      style: Object.assign({}, baseStyle, {\n        bottom: 0,\n        width: 20,\n        borderColor: 'blue',\n        borderWidth: 1\n      })\n    }, framesInLayout.map(function (f, ii) {\n      return _react.default.createElement(_View.default, {\n        key: 'f' + ii,\n        style: Object.assign({}, baseStyle, {\n          left: 0,\n          top: f.offset * normalize,\n          height: f.length * normalize,\n          backgroundColor: 'orange'\n        })\n      });\n    }), _react.default.createElement(_View.default, {\n      style: Object.assign({}, baseStyle, {\n        left: 0,\n        top: windowTop * normalize,\n        height: windowLen * normalize,\n        borderColor: 'green',\n        borderWidth: 2\n      })\n    }), _react.default.createElement(_View.default, {\n      style: Object.assign({}, baseStyle, {\n        left: 0,\n        top: visTop * normalize,\n        height: visLen * normalize,\n        borderColor: 'red',\n        borderWidth: 2\n      })\n    }));\n  };\n  VirtualizedList.prototype._selectLength = function _selectLength(metrics) {\n    return !this.props.horizontal ? metrics.height : metrics.width;\n  };\n  VirtualizedList.prototype._selectOffset = function _selectOffset(metrics) {\n    return !this.props.horizontal ? metrics.y : metrics.x;\n  };\n  VirtualizedList.prototype._maybeCallOnEndReached = function _maybeCallOnEndReached() {\n    var _props7 = this.props,\n      data = _props7.data,\n      getItemCount = _props7.getItemCount,\n      onEndReached = _props7.onEndReached,\n      onEndReachedThreshold = _props7.onEndReachedThreshold;\n    var _scrollMetrics = this._scrollMetrics,\n      contentLength = _scrollMetrics.contentLength,\n      visibleLength = _scrollMetrics.visibleLength,\n      offset = _scrollMetrics.offset;\n    var distanceFromEnd = contentLength - visibleLength - offset;\n    if (onEndReached && this.state.last === getItemCount(data) - 1 &&\n    distanceFromEnd < onEndReachedThreshold * visibleLength && (this._hasDataChangedSinceEndReached || this._scrollMetrics.contentLength !== this._sentEndForContentLength)) {\n      this._hasDataChangedSinceEndReached = false;\n      this._sentEndForContentLength = this._scrollMetrics.contentLength;\n      onEndReached({\n        distanceFromEnd: distanceFromEnd\n      });\n    }\n  };\n\n  VirtualizedList.prototype._scheduleCellsToRenderUpdate = function _scheduleCellsToRenderUpdate() {\n    var _state2 = this.state,\n      first = _state2.first,\n      last = _state2.last;\n    var _scrollMetrics2 = this._scrollMetrics,\n      offset = _scrollMetrics2.offset,\n      visibleLength = _scrollMetrics2.visibleLength,\n      velocity = _scrollMetrics2.velocity;\n    var itemCount = this.props.getItemCount(this.props.data);\n    var hiPri = false;\n    if (first > 0 || last < itemCount - 1) {\n      var distTop = offset - this._getFrameMetricsApprox(first).offset;\n      var distBottom = this._getFrameMetricsApprox(last).offset - (offset + visibleLength);\n      var scrollingThreshold =\n      this.props.onEndReachedThreshold * visibleLength / 2;\n      hiPri = Math.min(distTop, distBottom) < 0 || velocity < -2 && distTop < scrollingThreshold || velocity > 2 && distBottom < scrollingThreshold;\n    }\n    if (hiPri && this._averageCellLength) {\n      this._updateCellsToRenderBatcher.dispose({\n        abort: true\n      });\n      this._updateCellsToRender();\n      return;\n    } else {\n      this._updateCellsToRenderBatcher.schedule();\n    }\n  };\n  VirtualizedList.prototype._updateViewableItems = function _updateViewableItems(data) {\n    var _this4 = this;\n    var getItemCount = this.props.getItemCount;\n    this._viewabilityTuples.forEach(function (tuple) {\n      tuple.viewabilityHelper.onUpdate(getItemCount(data), _this4._scrollMetrics.offset, _this4._scrollMetrics.visibleLength, _this4._getFrameMetrics, _this4._createViewToken, tuple.onViewableItemsChanged, _this4.state);\n    });\n  };\n  return VirtualizedList;\n}(_react.default.PureComponent);\nVirtualizedList.defaultProps = {\n  disableVirtualization: process.env.NODE_ENV === 'test',\n  horizontal: false,\n  initialNumToRender: 10,\n  keyExtractor: function keyExtractor(item, index) {\n    if (item.key != null) {\n      return item.key;\n    }\n    _usedIndexForKey = true;\n    return String(index);\n  },\n  maxToRenderPerBatch: 10,\n  onEndReachedThreshold: 2,\n  scrollEventThrottle: 50,\n  updateCellsBatchingPeriod: 50,\n  windowSize: 21\n};\n\nVirtualizedList.contextTypes = {\n  virtualizedCell: _propTypes.default.shape({\n    cellKey: _propTypes.default.string\n  }),\n  virtualizedList: _propTypes.default.shape({\n    getScrollMetrics: _propTypes.default.func,\n    horizontal: _propTypes.default.bool,\n    getOutermostParentListRef: _propTypes.default.func,\n    getNestedChildState: _propTypes.default.func,\n    registerAsNestedChild: _propTypes.default.func,\n    unregisterAsNestedChild: _propTypes.default.func\n  })\n};\nVirtualizedList.childContextTypes = {\n  virtualizedList: _propTypes.default.shape({\n    getScrollMetrics: _propTypes.default.func,\n    horizontal: _propTypes.default.bool,\n    getOutermostParentListRef: _propTypes.default.func,\n    getNestedChildState: _propTypes.default.func,\n    registerAsNestedChild: _propTypes.default.func,\n    unregisterAsNestedChild: _propTypes.default.func\n  })\n};\nvar _initialiseProps = function _initialiseProps() {\n  var _this7 = this;\n  this._getScrollMetrics = function () {\n    return _this7._scrollMetrics;\n  };\n  this._getOutermostParentListRef = function () {\n    if (_this7._isNestedWithSameOrientation()) {\n      return _this7.context.virtualizedList.getOutermostParentListRef();\n    } else {\n      return _this7;\n    }\n  };\n  this._getNestedChildState = function (key) {\n    var existingChildData = _this7._nestedChildLists.get(key);\n    return existingChildData && existingChildData.state;\n  };\n  this._registerAsNestedChild = function (childList) {\n    var childListsInCell = _this7._cellKeysToChildListKeys.get(childList.cellKey) || new Set();\n    childListsInCell.add(childList.key);\n    _this7._cellKeysToChildListKeys.set(childList.cellKey, childListsInCell);\n    var existingChildData = _this7._nestedChildLists.get(childList.key);\n    (0, _invariant.default)(!(existingChildData && existingChildData.ref !== null), 'A VirtualizedList contains a cell which itself contains ' + 'more than one VirtualizedList of the same orientation as the parent ' + 'list. You must pass a unique listKey prop to each sibling list.');\n    _this7._nestedChildLists.set(childList.key, {\n      ref: childList.ref,\n      state: null\n    });\n    if (_this7._hasInteracted) {\n      childList.ref.recordInteraction();\n    }\n  };\n  this._unregisterAsNestedChild = function (childList) {\n    _this7._nestedChildLists.set(childList.key, {\n      ref: null,\n      state: childList.state\n    });\n  };\n  this._onUpdateSeparators = function (keys, newProps) {\n    keys.forEach(function (key) {\n      var ref = key != null && _this7._cellRefs[key];\n      ref && ref.updateSeparatorProps(newProps);\n    });\n  };\n  this._averageCellLength = 0;\n  this._cellKeysToChildListKeys = new Map();\n  this._cellRefs = {};\n  this._frames = {};\n  this._footerLength = 0;\n  this._hasDataChangedSinceEndReached = true;\n  this._hasInteracted = false;\n  this._hasMore = false;\n  this._hasWarned = {};\n  this._highestMeasuredFrameIndex = 0;\n  this._headerLength = 0;\n  this._indicesToKeys = new Map();\n  this._hasDoneInitialScroll = false;\n  this._nestedChildLists = new Map();\n  this._offsetFromParentVirtualizedList = 0;\n  this._prevParentOffset = 0;\n  this._scrollMetrics = {\n    contentLength: 0,\n    dOffset: 0,\n    dt: 10,\n    offset: 0,\n    timestamp: 0,\n    velocity: 0,\n    visibleLength: 0\n  };\n  this._scrollRef = null;\n  this._sentEndForContentLength = 0;\n  this._totalCellLength = 0;\n  this._totalCellsMeasured = 0;\n  this._viewabilityTuples = [];\n  this._captureScrollRef = function (ref) {\n    _this7._scrollRef = ref;\n  };\n  this._defaultRenderScrollComponent = function (props) {\n    if (_this7._isNestedWithSameOrientation()) {\n      return _react.default.createElement(_View.default, props);\n    } else if (props.onRefresh) {\n      (0, _invariant.default)(typeof props.refreshing === 'boolean', '`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `' + JSON.stringify(props.refreshing) + '`');\n      return _react.default.createElement(_ScrollView.default, _extends({}, props, {\n        refreshControl:\n        _react.default.createElement(_RefreshControl.default, {\n          refreshing: props.refreshing,\n          onRefresh: props.onRefresh,\n          progressViewOffset: props.progressViewOffset\n        })\n      }));\n    } else {\n      return _react.default.createElement(_ScrollView.default, props);\n    }\n  };\n  this._onCellUnmount = function (cellKey) {\n    var curr = _this7._frames[cellKey];\n    if (curr) {\n      _this7._frames[cellKey] = Object.assign({}, curr, {\n        inLayout: false\n      });\n    }\n  };\n  this._onLayout = function (e) {\n    if (_this7._isNestedWithSameOrientation()) {\n      _this7._measureLayoutRelativeToContainingList();\n    } else {\n      _this7._scrollMetrics.visibleLength = _this7._selectLength(e.nativeEvent.layout);\n    }\n    _this7.props.onLayout && _this7.props.onLayout(e);\n    _this7._scheduleCellsToRenderUpdate();\n    _this7._maybeCallOnEndReached();\n  };\n  this._onLayoutEmpty = function (e) {\n    _this7.props.onLayout && _this7.props.onLayout(e);\n  };\n  this._onLayoutFooter = function (e) {\n    _this7._footerLength = _this7._selectLength(e.nativeEvent.layout);\n  };\n  this._onLayoutHeader = function (e) {\n    _this7._headerLength = _this7._selectLength(e.nativeEvent.layout);\n  };\n  this._onContentSizeChange = function (width, height) {\n    if (width > 0 && height > 0 && _this7.props.initialScrollIndex != null && _this7.props.initialScrollIndex > 0 && !_this7._hasDoneInitialScroll) {\n      _this7.scrollToIndex({\n        animated: false,\n        index: _this7.props.initialScrollIndex\n      });\n      _this7._hasDoneInitialScroll = true;\n    }\n    if (_this7.props.onContentSizeChange) {\n      _this7.props.onContentSizeChange(width, height);\n    }\n    _this7._scrollMetrics.contentLength = _this7._selectLength({\n      height: height,\n      width: width\n    });\n    _this7._scheduleCellsToRenderUpdate();\n    _this7._maybeCallOnEndReached();\n  };\n  this._convertParentScrollMetrics = function (metrics) {\n    var offset = metrics.offset - _this7._offsetFromParentVirtualizedList;\n    var visibleLength = metrics.visibleLength;\n    var dOffset = offset - _this7._scrollMetrics.offset;\n    var contentLength = _this7._scrollMetrics.contentLength;\n    return {\n      visibleLength: visibleLength,\n      contentLength: contentLength,\n      offset: offset,\n      dOffset: dOffset\n    };\n  };\n  this._onScroll = function (e) {\n    _this7._nestedChildLists.forEach(function (childList) {\n      childList.ref && childList.ref._onScroll(e);\n    });\n    if (_this7.props.onScroll) {\n      _this7.props.onScroll(e);\n    }\n    var timestamp = e.timeStamp;\n    var visibleLength = _this7._selectLength(e.nativeEvent.layoutMeasurement);\n    var contentLength = _this7._selectLength(e.nativeEvent.contentSize);\n    var offset = _this7._selectOffset(e.nativeEvent.contentOffset);\n    var dOffset = offset - _this7._scrollMetrics.offset;\n    if (_this7._isNestedWithSameOrientation()) {\n      if (_this7._scrollMetrics.contentLength === 0) {\n        return;\n      }\n      var _convertParentScrollM = _this7._convertParentScrollMetrics({\n        visibleLength: visibleLength,\n        offset: offset\n      });\n      visibleLength = _convertParentScrollM.visibleLength;\n      contentLength = _convertParentScrollM.contentLength;\n      offset = _convertParentScrollM.offset;\n      dOffset = _convertParentScrollM.dOffset;\n    }\n    var dt = _this7._scrollMetrics.timestamp ? Math.max(1, timestamp - _this7._scrollMetrics.timestamp) : 1;\n    var velocity = dOffset / dt;\n    if (dt > 500 && _this7._scrollMetrics.dt > 500 && contentLength > 5 * visibleLength && !_this7._hasWarned.perf) {\n      (0, _infoLog.default)('VirtualizedList: You have a large list that is slow to update - make sure your ' + 'renderItem function renders components that follow React performance best practices ' + 'like PureComponent, shouldComponentUpdate, etc.', {\n        dt: dt,\n        prevDt: _this7._scrollMetrics.dt,\n        contentLength: contentLength\n      });\n      _this7._hasWarned.perf = true;\n    }\n    _this7._scrollMetrics = {\n      contentLength: contentLength,\n      dt: dt,\n      dOffset: dOffset,\n      offset: offset,\n      timestamp: timestamp,\n      velocity: velocity,\n      visibleLength: visibleLength\n    };\n    _this7._updateViewableItems(_this7.props.data);\n    if (!_this7.props) {\n      return;\n    }\n    _this7._maybeCallOnEndReached();\n    if (velocity !== 0) {\n      _this7._fillRateHelper.activate();\n    }\n    _this7._computeBlankness();\n    _this7._scheduleCellsToRenderUpdate();\n  };\n  this._onScrollBeginDrag = function (e) {\n    _this7._nestedChildLists.forEach(function (childList) {\n      childList.ref && childList.ref._onScrollBeginDrag(e);\n    });\n    _this7._viewabilityTuples.forEach(function (tuple) {\n      tuple.viewabilityHelper.recordInteraction();\n    });\n    _this7._hasInteracted = true;\n    _this7.props.onScrollBeginDrag && _this7.props.onScrollBeginDrag(e);\n  };\n  this._onScrollEndDrag = function (e) {\n    var velocity = e.nativeEvent.velocity;\n    if (velocity) {\n      _this7._scrollMetrics.velocity = _this7._selectOffset(velocity);\n    }\n    _this7._computeBlankness();\n    _this7.props.onScrollEndDrag && _this7.props.onScrollEndDrag(e);\n  };\n  this._onMomentumScrollEnd = function (e) {\n    _this7._scrollMetrics.velocity = 0;\n    _this7._computeBlankness();\n    _this7.props.onMomentumScrollEnd && _this7.props.onMomentumScrollEnd(e);\n  };\n  this._updateCellsToRender = function () {\n    var _props9 = _this7.props,\n      data = _props9.data,\n      getItemCount = _props9.getItemCount,\n      onEndReachedThreshold = _props9.onEndReachedThreshold;\n    var isVirtualizationDisabled = _this7._isVirtualizationDisabled();\n    _this7._updateViewableItems(data);\n    if (!data) {\n      return;\n    }\n    _this7.setState(function (state) {\n      var newState = void 0;\n      if (!isVirtualizationDisabled) {\n        if (_this7._scrollMetrics.visibleLength) {\n          if (!_this7.props.initialScrollIndex || _this7._scrollMetrics.offset) {\n            newState = (0, _VirtualizeUtils.computeWindowedRenderLimits)(_this7.props, state, _this7._getFrameMetricsApprox, _this7._scrollMetrics);\n          }\n        }\n      } else {\n        var _scrollMetrics3 = _this7._scrollMetrics,\n          contentLength = _scrollMetrics3.contentLength,\n          _offset = _scrollMetrics3.offset,\n          visibleLength = _scrollMetrics3.visibleLength;\n        var _distanceFromEnd = contentLength - visibleLength - _offset;\n        var renderAhead =\n        _distanceFromEnd < onEndReachedThreshold * visibleLength ? _this7.props.maxToRenderPerBatch : 0;\n        newState = {\n          first: 0,\n          last: Math.min(state.last + renderAhead, getItemCount(data) - 1)\n        };\n      }\n      if (newState && _this7._nestedChildLists.size > 0) {\n        var newFirst = newState.first;\n        var newLast = newState.last;\n        for (var ii = newFirst; ii <= newLast; ii++) {\n          var cellKeyForIndex = _this7._indicesToKeys.get(ii);\n          var childListKeys = cellKeyForIndex && _this7._cellKeysToChildListKeys.get(cellKeyForIndex);\n          if (!childListKeys) {\n            continue;\n          }\n          var someChildHasMore = false;\n          for (var _iterator = childListKeys, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n            var _ref6;\n            if (_isArray) {\n              if (_i >= _iterator.length) break;\n              _ref6 = _iterator[_i++];\n            } else {\n              _i = _iterator.next();\n              if (_i.done) break;\n              _ref6 = _i.value;\n            }\n            var childKey = _ref6;\n            var childList = _this7._nestedChildLists.get(childKey);\n            if (childList && childList.ref && childList.ref.hasMore()) {\n              someChildHasMore = true;\n              break;\n            }\n          }\n          if (someChildHasMore) {\n            newState.last = ii;\n            break;\n          }\n        }\n      }\n      return newState;\n    });\n  };\n  this._createViewToken = function (index, isViewable) {\n    var _props10 = _this7.props,\n      data = _props10.data,\n      getItem = _props10.getItem,\n      keyExtractor = _props10.keyExtractor;\n    var item = getItem(data, index);\n    return {\n      index: index,\n      item: item,\n      key: keyExtractor(item, index),\n      isViewable: isViewable\n    };\n  };\n  this._getFrameMetricsApprox = function (index) {\n    var frame = _this7._getFrameMetrics(index);\n    if (frame && frame.index === index) {\n      return frame;\n    } else {\n      var _getItemLayout = _this7.props.getItemLayout;\n      (0, _invariant.default)(!_getItemLayout, 'Should not have to estimate frames when a measurement metrics function is provided');\n      return {\n        length: _this7._averageCellLength,\n        offset: _this7._averageCellLength * index\n      };\n    }\n  };\n  this._getFrameMetrics = function (index) {\n    var _props11 = _this7.props,\n      data = _props11.data,\n      getItem = _props11.getItem,\n      getItemCount = _props11.getItemCount,\n      getItemLayout = _props11.getItemLayout,\n      keyExtractor = _props11.keyExtractor;\n    (0, _invariant.default)(getItemCount(data) > index, 'Tried to get frame for out of range index ' + index);\n    var item = getItem(data, index);\n    var frame = item && _this7._frames[keyExtractor(item, index)];\n    if (!frame || frame.index !== index) {\n      if (getItemLayout) {\n        frame = getItemLayout(data, index);\n        if (__DEV__) {\n          var frameType = _propTypes.default.shape({\n            length: _propTypes.default.number.isRequired,\n            offset: _propTypes.default.number.isRequired,\n            index: _propTypes.default.number.isRequired\n          }).isRequired;\n          _propTypes.default.checkPropTypes({\n            frame: frameType\n          }, {\n            frame: frame\n          }, 'frame', 'VirtualizedList.getItemLayout');\n        }\n      }\n    }\n    return frame;\n  };\n};\nvar CellRenderer = function (_React$Component) {\n  _inherits(CellRenderer, _React$Component);\n  function CellRenderer() {\n    var _temp, _this5, _ret2;\n    _classCallCheck(this, CellRenderer);\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return _ret2 = (_temp = (_this5 = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this5), _this5.state = {\n      separatorProps: {\n        highlighted: false,\n        leadingItem: _this5.props.item\n      }\n    }, _this5._separators = {\n      highlight: function highlight() {\n        var _this5$props = _this5.props,\n          cellKey = _this5$props.cellKey,\n          prevCellKey = _this5$props.prevCellKey;\n        _this5.props.onUpdateSeparators([cellKey, prevCellKey], {\n          highlighted: true\n        });\n      },\n      unhighlight: function unhighlight() {\n        var _this5$props2 = _this5.props,\n          cellKey = _this5$props2.cellKey,\n          prevCellKey = _this5$props2.prevCellKey;\n        _this5.props.onUpdateSeparators([cellKey, prevCellKey], {\n          highlighted: false\n        });\n      },\n      updateProps: function updateProps(select, newProps) {\n        var _this5$props3 = _this5.props,\n          cellKey = _this5$props3.cellKey,\n          prevCellKey = _this5$props3.prevCellKey;\n        _this5.props.onUpdateSeparators([select === 'leading' ? prevCellKey : cellKey], newProps);\n      }\n    }, _temp), _possibleConstructorReturn(_this5, _ret2);\n  }\n  CellRenderer.prototype.getChildContext = function getChildContext() {\n    return {\n      virtualizedCell: {\n        cellKey: this.props.cellKey\n      }\n    };\n  };\n\n  CellRenderer.prototype.updateSeparatorProps = function updateSeparatorProps(newProps) {\n    this.setState(function (state) {\n      return {\n        separatorProps: Object.assign({}, state.separatorProps, newProps)\n      };\n    });\n  };\n  CellRenderer.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.props.onUnmount(this.props.cellKey);\n  };\n  CellRenderer.prototype.render = function render() {\n    var _props8 = this.props,\n      CellRendererComponent = _props8.CellRendererComponent,\n      ItemSeparatorComponent = _props8.ItemSeparatorComponent,\n      fillRateHelper = _props8.fillRateHelper,\n      horizontal = _props8.horizontal,\n      item = _props8.item,\n      index = _props8.index,\n      inversionStyle = _props8.inversionStyle,\n      parentProps = _props8.parentProps;\n    var renderItem = parentProps.renderItem,\n      getItemLayout = parentProps.getItemLayout;\n    (0, _invariant.default)(renderItem, 'no renderItem!');\n    var element = renderItem({\n      item: item,\n      index: index,\n      separators: this._separators\n    });\n    var onLayout = getItemLayout && !parentProps.debug && !fillRateHelper.enabled() ? undefined : this.props.onLayout;\n    var itemSeparator = ItemSeparatorComponent && _react.default.createElement(ItemSeparatorComponent, this.state.separatorProps);\n    var cellStyle = inversionStyle ? horizontal ? [styles.rowReverse, inversionStyle] : [styles.columnReverse, inversionStyle] : horizontal ? [styles.row, inversionStyle] : inversionStyle;\n    if (!CellRendererComponent) {\n      return _react.default.createElement(_View.default, {\n        style: cellStyle,\n        onLayout: onLayout\n      }, element, itemSeparator);\n    }\n    return _react.default.createElement(CellRendererComponent, _extends({}, this.props, {\n      style: cellStyle,\n      onLayout: onLayout\n    }), element, itemSeparator);\n  };\n  return CellRenderer;\n}(_react.default.Component);\nCellRenderer.childContextTypes = {\n  virtualizedCell: _propTypes.default.shape({\n    cellKey: _propTypes.default.string\n  })\n};\nvar VirtualizedCellWrapper = function (_React$Component2) {\n  _inherits(VirtualizedCellWrapper, _React$Component2);\n  function VirtualizedCellWrapper() {\n    _classCallCheck(this, VirtualizedCellWrapper);\n    return _possibleConstructorReturn(this, _React$Component2.apply(this, arguments));\n  }\n  VirtualizedCellWrapper.prototype.getChildContext = function getChildContext() {\n    return {\n      virtualizedCell: {\n        cellKey: this.props.cellKey\n      }\n    };\n  };\n  VirtualizedCellWrapper.prototype.render = function render() {\n    return this.props.children;\n  };\n  return VirtualizedCellWrapper;\n}(_react.default.Component);\nVirtualizedCellWrapper.childContextTypes = {\n  virtualizedCell: _propTypes.default.shape({\n    cellKey: _propTypes.default.string\n  })\n};\nvar styles = _StyleSheet.default.create({\n  verticallyInverted: {\n    transform: [{\n      scaleY: -1\n    }]\n  },\n  horizontallyInverted: {\n    transform: [{\n      scaleX: -1\n    }]\n  },\n  row: {\n    flexDirection: 'row'\n  },\n  rowReverse: {\n    flexDirection: 'row-reverse'\n  },\n  columnReverse: {\n    flexDirection: 'column-reverse'\n  }\n});\nvar _default = VirtualizedList;\nexports.default = _default;","map":{"version":3,"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","flattenStyle","StyleSheet","flatten","__DEV__","process","env","NODE_ENV","_usedIndexForKey","VirtualizedList","_React$PureComponent","scrollToEnd","params","animated","veryLast","props","getItemCount","data","frame","_getFrameMetricsApprox","offset","Math","max","_footerLength","_scrollMetrics","visibleLength","_scrollRef","scrollTo","horizontal","x","y","scrollToIndex","_props","getItemLayout","onScrollToIndexFailed","index","viewOffset","viewPosition","invariant","_highestMeasuredFrameIndex","averageItemLength","_averageCellLength","highestMeasuredFrameIndex","scrollToItem","item","_props2","getItem","itemCount","_index","scrollToOffset","recordInteraction","_nestedChildLists","forEach","childList","ref","_viewabilityTuples","t","viewabilityHelper","_updateViewableItems","flashScrollIndicators","getScrollResponder","getScrollableNode","findNodeHandle","setNativeProps","getChildContext","virtualizedList","getScrollMetrics","_getScrollMetrics","getOutermostParentListRef","_getOutermostParentListRef","getNestedChildState","_getNestedChildState","registerAsNestedChild","_registerAsNestedChild","unregisterAsNestedChild","_unregisterAsNestedChild","_getCellKey","context","virtualizedCell","cellKey","hasMore","_hasMore","_this","_initialiseProps","onScroll","__isNative","windowSize","_fillRateHelper","FillRateHelper","_getFrameMetrics","_updateCellsToRenderBatcher","Batchinator","_updateCellsToRender","updateCellsBatchingPeriod","viewabilityConfigCallbackPairs","map","pair","ViewabilityHelper","viewabilityConfig","onViewableItemsChanged","push","initialState","first","initialScrollIndex","last","min","initialNumToRender","_isNestedWithSameOrientation","storedState","listKey","state","_frames","frames","componentDidMount","componentWillUnmount","dispose","abort","tuple","deactivateAndFlush","getDerivedStateFromProps","newProps","prevState","extraData","maxToRenderPerBatch","_pushCells","cells","stickyHeaderIndices","stickyIndicesFromProps","inversionStyle","_this2","_props3","CellRendererComponent","ItemSeparatorComponent","keyExtractor","stickyOffset","ListHeaderComponent","end","prevCellKey","_loop","ii","_indicesToKeys","set","has","React","createElement","CellRenderer","undefined","fillRateHelper","onUpdateSeparators","_onUpdateSeparators","onLayout","e","_onCellLayout","onUnmount","_onCellUnmount","parentProps","_ref","_x","apply","toString","_cellRefs","_isVirtualizationDisabled","disableVirtualization","nestedContext","render","flatStyles","contentContainerStyle","warning","flexWrap","_props4","ListEmptyComponent","ListFooterComponent","_props5","isVirtualizationDisabled","inverted","styles","horizontallyInverted","verticallyInverted","Set","element","isValidElement","VirtualizedCellWrapper","View","_onLayoutHeader","style","spacerKey","lastInitialIndex","_state","_first","_last","firstAfterInitial","insertedStickySpacer","size","_ref2","_ref3","initBlock","stickyBlock","leadSpace","trailSpace","_ref4","_initBlock","firstSpace","_hasWarned","keys","console","warn","_ref5","lastFrame","endFrame","tailSpacerLength","_element","_onLayoutEmpty","_element2","_onLayoutFooter","scrollProps","onContentSizeChange","_onContentSizeChange","_onLayout","_onScroll","onScrollBeginDrag","_onScrollBeginDrag","onScrollEndDrag","_onScrollEndDrag","onMomentumScrollEnd","_onMomentumScrollEnd","scrollEventThrottle","invertStickyHeaders","ret","cloneElement","renderScrollComponent","_defaultRenderScrollComponent","_captureScrollRef","debug","flex","_renderDebugOverlay","componentDidUpdate","prevProps","_props6","_hasDataChangedSinceEndReached","resetViewableIndices","_scheduleCellsToRenderUpdate","_computeBlankness","computeBlankness","layout","nativeEvent","next","_selectOffset","_selectLength","inLayout","curr","_totalCellLength","_totalCellsMeasured","_measureLayoutRelativeToContainingList","_this3","UIManager","measureLayout","error","width","height","_offsetFromParentVirtualizedList","contentLength","scrollMetrics","_convertParentScrollMetrics","normalize","framesInLayout","windowTop","frameLast","windowLen","visTop","visLen","baseStyle","position","top","right","bottom","borderColor","borderWidth","f","left","backgroundColor","metrics","_maybeCallOnEndReached","_props7","onEndReached","onEndReachedThreshold","distanceFromEnd","_sentEndForContentLength","_state2","_scrollMetrics2","velocity","hiPri","distTop","distBottom","scrollingThreshold","schedule","_this4","onUpdate","_createViewToken","PureComponent","defaultProps","String","contextTypes","PropTypes","shape","string","func","bool","childContextTypes","_this7","existingChildData","get","childListsInCell","_cellKeysToChildListKeys","add","_hasInteracted","updateSeparatorProps","Map","_headerLength","_hasDoneInitialScroll","_prevParentOffset","dOffset","dt","timestamp","onRefresh","refreshing","JSON","stringify","ScrollView","refreshControl","RefreshControl","progressViewOffset","timeStamp","layoutMeasurement","contentSize","contentOffset","_convertParentScrollM","perf","infoLog","prevDt","activate","_props9","setState","newState","computeWindowedRenderLimits","_scrollMetrics3","_offset","_distanceFromEnd","renderAhead","newFirst","newLast","cellKeyForIndex","childListKeys","someChildHasMore","_iterator","_isArray","Array","isArray","_i","Symbol","iterator","_ref6","done","childKey","isViewable","_props10","_getItemLayout","_props11","frameType","number","isRequired","checkPropTypes","_React$Component","_temp","_this5","_ret2","_len","args","_key","concat","separatorProps","highlighted","leadingItem","_separators","highlight","_this5$props","unhighlight","_this5$props2","updateProps","select","_this5$props3","_props8","renderItem","separators","enabled","itemSeparator","cellStyle","rowReverse","columnReverse","row","Component","_React$Component2","children","transform","scaleY","scaleX","flexDirection"],"sources":["C:/Users/prariya/Desktop/Modhiw/client/node_modules/react-native-phone-number-input/node_modules/react-native-web/dist/vendor/react-native/VirtualizedList/index.js"],"sourcesContent":["var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @noflow\n * @format\n */\nimport Batchinator from '../Batchinator';\nimport FillRateHelper from '../FillRateHelper';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport RefreshControl from '../../../exports/RefreshControl';\nimport ScrollView from '../../../exports/ScrollView';\nimport StyleSheet from '../../../exports/StyleSheet';\nimport UIManager from '../../../exports/UIManager';\nimport View from '../../../exports/View';\nimport ViewabilityHelper from '../ViewabilityHelper';\nimport { computeWindowedRenderLimits } from '../VirtualizeUtils';\nimport findNodeHandle from '../../../exports/findNodeHandle';\nimport infoLog from '../infoLog';\nimport invariant from 'fbjs/lib/invariant';\nimport warning from 'fbjs/lib/warning';\n\nvar flattenStyle = StyleSheet.flatten;\nvar __DEV__ = process.env.NODE_ENV !== 'production';\n/* $FlowFixMe - this Props seems to be missing a bunch of stuff. Remove this\n * comment to see the errors */\n\n\nvar _usedIndexForKey = false;\n\n/**\n * Base implementation for the more convenient [`<FlatList>`](/react-native/docs/flatlist.html)\n * and [`<SectionList>`](/react-native/docs/sectionlist.html) components, which are also better\n * documented. In general, this should only really be used if you need more flexibility than\n * `FlatList` provides, e.g. for use with immutable data instead of plain arrays.\n *\n * Virtualization massively improves memory consumption and performance of large lists by\n * maintaining a finite render window of active items and replacing all items outside of the render\n * window with appropriately sized blank space. The window adapts to scrolling behavior, and items\n * are rendered incrementally with low-pri (after any running interactions) if they are far from the\n * visible area, or with hi-pri otherwise to minimize the potential of seeing blank space.\n *\n * Some caveats:\n *\n * - Internal state is not preserved when content scrolls out of the render window. Make sure all\n *   your data is captured in the item data or external stores like Flux, Redux, or Relay.\n * - This is a `PureComponent` which means that it will not re-render if `props` remain shallow-\n *   equal. Make sure that everything your `renderItem` function depends on is passed as a prop\n *   (e.g. `extraData`) that is not `===` after updates, otherwise your UI may not update on\n *   changes. This includes the `data` prop and parent component state.\n * - In order to constrain memory and enable smooth scrolling, content is rendered asynchronously\n *   offscreen. This means it's possible to scroll faster than the fill rate ands momentarily see\n *   blank content. This is a tradeoff that can be adjusted to suit the needs of each application,\n *   and we are working on improving it behind the scenes.\n * - By default, the list looks for a `key` prop on each item and uses that for the React key.\n *   Alternatively, you can provide a custom `keyExtractor` prop.\n *\n */\nvar VirtualizedList = function (_React$PureComponent) {\n  _inherits(VirtualizedList, _React$PureComponent);\n\n  // scrollToEnd may be janky without getItemLayout prop\n  VirtualizedList.prototype.scrollToEnd = function scrollToEnd(params) {\n    var animated = params ? params.animated : true;\n    var veryLast = this.props.getItemCount(this.props.data) - 1;\n    var frame = this._getFrameMetricsApprox(veryLast);\n    var offset = Math.max(0, frame.offset + frame.length + this._footerLength - this._scrollMetrics.visibleLength);\n    /* $FlowFixMe(>=0.53.0 site=react_native_fb,react_native_oss) This comment\n     * suppresses an error when upgrading Flow's support for React. To see the\n     * error delete this comment and run Flow. */\n    this._scrollRef.scrollTo(\n    /* $FlowFixMe(>=0.53.0 site=react_native_fb,react_native_oss) This\n     * comment suppresses an error when upgrading Flow's support for React.\n     * To see the error delete this comment and run Flow. */\n    this.props.horizontal ? { x: offset, animated: animated } : { y: offset, animated: animated });\n  };\n\n  // scrollToIndex may be janky without getItemLayout prop\n\n\n  VirtualizedList.prototype.scrollToIndex = function scrollToIndex(params) {\n    var _props = this.props,\n        data = _props.data,\n        horizontal = _props.horizontal,\n        getItemCount = _props.getItemCount,\n        getItemLayout = _props.getItemLayout,\n        onScrollToIndexFailed = _props.onScrollToIndexFailed;\n    var animated = params.animated,\n        index = params.index,\n        viewOffset = params.viewOffset,\n        viewPosition = params.viewPosition;\n\n    invariant(index >= 0 && index < getItemCount(data), 'scrollToIndex out of range: ' + index + ' vs ' + (getItemCount(data) - 1));\n    if (!getItemLayout && index > this._highestMeasuredFrameIndex) {\n      invariant(!!onScrollToIndexFailed, 'scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, ' + 'otherwise there is no way to know the location of offscreen indices or handle failures.');\n      onScrollToIndexFailed({\n        averageItemLength: this._averageCellLength,\n        highestMeasuredFrameIndex: this._highestMeasuredFrameIndex,\n        index: index\n      });\n      return;\n    }\n    var frame = this._getFrameMetricsApprox(index);\n    var offset = Math.max(0, frame.offset - (viewPosition || 0) * (this._scrollMetrics.visibleLength - frame.length)) - (viewOffset || 0);\n    /* $FlowFixMe(>=0.53.0 site=react_native_fb,react_native_oss) This comment\n     * suppresses an error when upgrading Flow's support for React. To see the\n     * error delete this comment and run Flow. */\n    this._scrollRef.scrollTo(\n    /* $FlowFixMe(>=0.53.0 site=react_native_fb,react_native_oss) This\n     * comment suppresses an error when upgrading Flow's support for React.\n     * To see the error delete this comment and run Flow. */\n    horizontal ? { x: offset, animated: animated } : { y: offset, animated: animated });\n  };\n\n  // scrollToItem may be janky without getItemLayout prop. Required linear scan through items -\n  // use scrollToIndex instead if possible.\n\n\n  VirtualizedList.prototype.scrollToItem = function scrollToItem(params) {\n    var item = params.item;\n    var _props2 = this.props,\n        data = _props2.data,\n        getItem = _props2.getItem,\n        getItemCount = _props2.getItemCount;\n\n    var itemCount = getItemCount(data);\n    for (var _index = 0; _index < itemCount; _index++) {\n      if (getItem(data, _index) === item) {\n        this.scrollToIndex(Object.assign({}, params, { index: _index }));\n        break;\n      }\n    }\n  };\n\n  /**\n   * Scroll to a specific content pixel offset in the list.\n   *\n   * Param `offset` expects the offset to scroll to.\n   * In case of `horizontal` is true, the offset is the x-value,\n   * in any other case the offset is the y-value.\n   *\n   * Param `animated` (`true` by default) defines whether the list\n   * should do an animation while scrolling.\n   */\n\n\n  VirtualizedList.prototype.scrollToOffset = function scrollToOffset(params) {\n    var animated = params.animated,\n        offset = params.offset;\n    /* $FlowFixMe(>=0.53.0 site=react_native_fb,react_native_oss) This comment\n     * suppresses an error when upgrading Flow's support for React. To see the\n     * error delete this comment and run Flow. */\n\n    this._scrollRef.scrollTo(\n    /* $FlowFixMe(>=0.53.0 site=react_native_fb,react_native_oss) This\n     * comment suppresses an error when upgrading Flow's support for React.\n     * To see the error delete this comment and run Flow. */\n    this.props.horizontal ? { x: offset, animated: animated } : { y: offset, animated: animated });\n  };\n\n  VirtualizedList.prototype.recordInteraction = function recordInteraction() {\n    this._nestedChildLists.forEach(function (childList) {\n      childList.ref && childList.ref.recordInteraction();\n    });\n    this._viewabilityTuples.forEach(function (t) {\n      t.viewabilityHelper.recordInteraction();\n    });\n    this._updateViewableItems(this.props.data);\n  };\n\n  VirtualizedList.prototype.flashScrollIndicators = function flashScrollIndicators() {\n    /* $FlowFixMe(>=0.53.0 site=react_native_fb,react_native_oss) This comment\n     * suppresses an error when upgrading Flow's support for React. To see the\n     * error delete this comment and run Flow. */\n    this._scrollRef.flashScrollIndicators();\n  };\n\n  /**\n   * Provides a handle to the underlying scroll responder.\n   * Note that `this._scrollRef` might not be a `ScrollView`, so we\n   * need to check that it responds to `getScrollResponder` before calling it.\n   */\n\n\n  VirtualizedList.prototype.getScrollResponder = function getScrollResponder() {\n    if (this._scrollRef && this._scrollRef.getScrollResponder) {\n      return this._scrollRef.getScrollResponder();\n    }\n  };\n\n  VirtualizedList.prototype.getScrollableNode = function getScrollableNode() {\n    if (this._scrollRef && this._scrollRef.getScrollableNode) {\n      return this._scrollRef.getScrollableNode();\n    } else {\n      return findNodeHandle(this._scrollRef);\n    }\n  };\n\n  VirtualizedList.prototype.setNativeProps = function setNativeProps(props) {\n    if (this._scrollRef) {\n      this._scrollRef.setNativeProps(props);\n    }\n  };\n\n  VirtualizedList.prototype.getChildContext = function getChildContext() {\n    return {\n      virtualizedList: {\n        getScrollMetrics: this._getScrollMetrics,\n        horizontal: this.props.horizontal,\n        getOutermostParentListRef: this._getOutermostParentListRef,\n        getNestedChildState: this._getNestedChildState,\n        registerAsNestedChild: this._registerAsNestedChild,\n        unregisterAsNestedChild: this._unregisterAsNestedChild\n      }\n    };\n  };\n\n  VirtualizedList.prototype._getCellKey = function _getCellKey() {\n    return this.context.virtualizedCell && this.context.virtualizedCell.cellKey || 'rootList';\n  };\n\n  VirtualizedList.prototype.hasMore = function hasMore() {\n    return this._hasMore;\n  };\n\n  function VirtualizedList(props, context) {\n    _classCallCheck(this, VirtualizedList);\n\n    var _this = _possibleConstructorReturn(this, _React$PureComponent.call(this, props, context));\n\n    _initialiseProps.call(_this);\n\n    invariant(!props.onScroll || !props.onScroll.__isNative, 'Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent ' + 'to support native onScroll events with useNativeDriver');\n\n    invariant(props.windowSize > 0, 'VirtualizedList: The windowSize prop must be present and set to a value greater than 0.');\n\n    _this._fillRateHelper = new FillRateHelper(_this._getFrameMetrics);\n    _this._updateCellsToRenderBatcher = new Batchinator(_this._updateCellsToRender, _this.props.updateCellsBatchingPeriod);\n\n    if (_this.props.viewabilityConfigCallbackPairs) {\n      _this._viewabilityTuples = _this.props.viewabilityConfigCallbackPairs.map(function (pair) {\n        return {\n          viewabilityHelper: new ViewabilityHelper(pair.viewabilityConfig),\n          onViewableItemsChanged: pair.onViewableItemsChanged\n        };\n      });\n    } else if (_this.props.onViewableItemsChanged) {\n      _this._viewabilityTuples.push({\n        viewabilityHelper: new ViewabilityHelper(_this.props.viewabilityConfig),\n        onViewableItemsChanged: _this.props.onViewableItemsChanged\n      });\n    }\n\n    var initialState = {\n      first: _this.props.initialScrollIndex || 0,\n      last: Math.min(_this.props.getItemCount(_this.props.data), (_this.props.initialScrollIndex || 0) + _this.props.initialNumToRender) - 1\n    };\n\n    if (_this._isNestedWithSameOrientation()) {\n      var storedState = _this.context.virtualizedList.getNestedChildState(_this.props.listKey || _this._getCellKey());\n      if (storedState) {\n        initialState = storedState;\n        _this.state = storedState;\n        _this._frames = storedState.frames;\n      }\n    }\n\n    _this.state = initialState;\n    return _this;\n  }\n\n  VirtualizedList.prototype.componentDidMount = function componentDidMount() {\n    if (this._isNestedWithSameOrientation()) {\n      this.context.virtualizedList.registerAsNestedChild({\n        cellKey: this._getCellKey(),\n        key: this.props.listKey || this._getCellKey(),\n        ref: this\n      });\n    }\n  };\n\n  VirtualizedList.prototype.componentWillUnmount = function componentWillUnmount() {\n    if (this._isNestedWithSameOrientation()) {\n      this.context.virtualizedList.unregisterAsNestedChild({\n        key: this.props.listKey || this._getCellKey(),\n        state: {\n          first: this.state.first,\n          last: this.state.last,\n          frames: this._frames\n        }\n      });\n    }\n    this._updateViewableItems(null);\n    this._updateCellsToRenderBatcher.dispose({ abort: true });\n    this._viewabilityTuples.forEach(function (tuple) {\n      tuple.viewabilityHelper.dispose();\n    });\n    this._fillRateHelper.deactivateAndFlush();\n  };\n\n  VirtualizedList.getDerivedStateFromProps = function getDerivedStateFromProps(newProps, prevState) {\n    var data = newProps.data,\n        extraData = newProps.extraData,\n        getItemCount = newProps.getItemCount,\n        maxToRenderPerBatch = newProps.maxToRenderPerBatch;\n    // first and last could be stale (e.g. if a new, shorter items props is passed in), so we make\n    // sure we're rendering a reasonable range here.\n\n    return {\n      first: Math.max(0, Math.min(prevState.first, getItemCount(data) - 1 - maxToRenderPerBatch)),\n      last: Math.max(0, Math.min(prevState.last, getItemCount(data) - 1))\n    };\n  };\n\n  VirtualizedList.prototype._pushCells = function _pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, first, last, inversionStyle) {\n    var _this2 = this;\n\n    var _props3 = this.props,\n        CellRendererComponent = _props3.CellRendererComponent,\n        ItemSeparatorComponent = _props3.ItemSeparatorComponent,\n        data = _props3.data,\n        getItem = _props3.getItem,\n        getItemCount = _props3.getItemCount,\n        horizontal = _props3.horizontal,\n        keyExtractor = _props3.keyExtractor;\n\n    var stickyOffset = this.props.ListHeaderComponent ? 1 : 0;\n    var end = getItemCount(data) - 1;\n    var prevCellKey = void 0;\n    last = Math.min(end, last);\n\n    var _loop = function _loop(ii) {\n      var item = getItem(data, ii);\n      var key = keyExtractor(item, ii);\n      _this2._indicesToKeys.set(ii, key);\n      if (stickyIndicesFromProps.has(ii + stickyOffset)) {\n        stickyHeaderIndices.push(cells.length);\n      }\n      cells.push(React.createElement(CellRenderer, {\n        CellRendererComponent: CellRendererComponent,\n        ItemSeparatorComponent: ii < end ? ItemSeparatorComponent : undefined,\n        cellKey: key,\n        fillRateHelper: _this2._fillRateHelper,\n        horizontal: horizontal,\n        index: ii,\n        inversionStyle: inversionStyle,\n        item: item,\n        key: key,\n        prevCellKey: prevCellKey,\n        onUpdateSeparators: _this2._onUpdateSeparators,\n        onLayout: function onLayout(e) {\n          return _this2._onCellLayout(e, key, ii);\n        },\n        onUnmount: _this2._onCellUnmount,\n        parentProps: _this2.props,\n        ref: function (_ref) {\n          function ref(_x) {\n            return _ref.apply(this, arguments);\n          }\n\n          ref.toString = function () {\n            return _ref.toString();\n          };\n\n          return ref;\n        }(function (ref) {\n          _this2._cellRefs[key] = ref;\n        })\n      }));\n      prevCellKey = key;\n    };\n\n    for (var ii = first; ii <= last; ii++) {\n      _loop(ii);\n    }\n  };\n\n  VirtualizedList.prototype._isVirtualizationDisabled = function _isVirtualizationDisabled() {\n    return this.props.disableVirtualization;\n  };\n\n  VirtualizedList.prototype._isNestedWithSameOrientation = function _isNestedWithSameOrientation() {\n    var nestedContext = this.context.virtualizedList;\n    return !!(nestedContext && !!nestedContext.horizontal === !!this.props.horizontal);\n  };\n\n  VirtualizedList.prototype.render = function render() {\n    if (__DEV__) {\n      var flatStyles = flattenStyle(this.props.contentContainerStyle);\n      warning(flatStyles == null || flatStyles.flexWrap !== 'wrap', '`flexWrap: `wrap`` is not supported with the `VirtualizedList` components.' + 'Consider using `numColumns` with `FlatList` instead.');\n    }\n    var _props4 = this.props,\n        ListEmptyComponent = _props4.ListEmptyComponent,\n        ListFooterComponent = _props4.ListFooterComponent,\n        ListHeaderComponent = _props4.ListHeaderComponent;\n    var _props5 = this.props,\n        data = _props5.data,\n        horizontal = _props5.horizontal;\n\n    var isVirtualizationDisabled = this._isVirtualizationDisabled();\n    var inversionStyle = this.props.inverted ? this.props.horizontal ? styles.horizontallyInverted : styles.verticallyInverted : null;\n    var cells = [];\n    var stickyIndicesFromProps = new Set(this.props.stickyHeaderIndices);\n    var stickyHeaderIndices = [];\n    if (ListHeaderComponent) {\n      if (stickyIndicesFromProps.has(0)) {\n        stickyHeaderIndices.push(0);\n      }\n      var element = React.isValidElement(ListHeaderComponent) ? ListHeaderComponent :\n      // $FlowFixMe\n      React.createElement(ListHeaderComponent, null);\n      cells.push(React.createElement(\n        VirtualizedCellWrapper,\n        {\n          cellKey: this._getCellKey() + '-header',\n          key: '$header' },\n        React.createElement(\n          View,\n          { onLayout: this._onLayoutHeader, style: inversionStyle },\n          element\n        )\n      ));\n    }\n    var itemCount = this.props.getItemCount(data);\n    if (itemCount > 0) {\n      _usedIndexForKey = false;\n      var spacerKey = !horizontal ? 'height' : 'width';\n      var lastInitialIndex = this.props.initialScrollIndex ? -1 : this.props.initialNumToRender - 1;\n      var _state = this.state,\n          _first = _state.first,\n          _last = _state.last;\n\n      this._pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, 0, lastInitialIndex, inversionStyle);\n      var firstAfterInitial = Math.max(lastInitialIndex + 1, _first);\n      if (!isVirtualizationDisabled && _first > lastInitialIndex + 1) {\n        var insertedStickySpacer = false;\n        if (stickyIndicesFromProps.size > 0) {\n          var stickyOffset = ListHeaderComponent ? 1 : 0;\n          // See if there are any sticky headers in the virtualized space that we need to render.\n          for (var ii = firstAfterInitial - 1; ii > lastInitialIndex; ii--) {\n            if (stickyIndicesFromProps.has(ii + stickyOffset)) {\n              var _ref2, _ref3;\n\n              var initBlock = this._getFrameMetricsApprox(lastInitialIndex);\n              var stickyBlock = this._getFrameMetricsApprox(ii);\n              var leadSpace = stickyBlock.offset - (initBlock.offset + initBlock.length);\n              cells.push(React.createElement(View, { key: '$sticky_lead', style: (_ref2 = {}, _ref2[spacerKey] = leadSpace, _ref2) }));\n              this._pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, ii, ii, inversionStyle);\n              var trailSpace = this._getFrameMetricsApprox(_first).offset - (stickyBlock.offset + stickyBlock.length);\n              cells.push(React.createElement(View, { key: '$sticky_trail', style: (_ref3 = {}, _ref3[spacerKey] = trailSpace, _ref3) }));\n              insertedStickySpacer = true;\n              break;\n            }\n          }\n        }\n        if (!insertedStickySpacer) {\n          var _ref4;\n\n          var _initBlock = this._getFrameMetricsApprox(lastInitialIndex);\n          var firstSpace = this._getFrameMetricsApprox(_first).offset - (_initBlock.offset + _initBlock.length);\n          cells.push(React.createElement(View, { key: '$lead_spacer', style: (_ref4 = {}, _ref4[spacerKey] = firstSpace, _ref4) }));\n        }\n      }\n      this._pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, firstAfterInitial, _last, inversionStyle);\n      if (!this._hasWarned.keys && _usedIndexForKey) {\n        console.warn('VirtualizedList: missing keys for items, make sure to specify a key property on each ' + 'item or provide a custom keyExtractor.');\n        this._hasWarned.keys = true;\n      }\n      if (!isVirtualizationDisabled && _last < itemCount - 1) {\n        var _ref5;\n\n        var lastFrame = this._getFrameMetricsApprox(_last);\n        // Without getItemLayout, we limit our tail spacer to the _highestMeasuredFrameIndex to\n        // prevent the user for hyperscrolling into un-measured area because otherwise content will\n        // likely jump around as it renders in above the viewport.\n        var end = this.props.getItemLayout ? itemCount - 1 : Math.min(itemCount - 1, this._highestMeasuredFrameIndex);\n        var endFrame = this._getFrameMetricsApprox(end);\n        var tailSpacerLength = endFrame.offset + endFrame.length - (lastFrame.offset + lastFrame.length);\n        cells.push(React.createElement(View, { key: '$tail_spacer', style: (_ref5 = {}, _ref5[spacerKey] = tailSpacerLength, _ref5) }));\n      }\n    } else if (ListEmptyComponent) {\n      var _element = React.isValidElement(ListEmptyComponent) ? ListEmptyComponent :\n      // $FlowFixMe\n      React.createElement(ListEmptyComponent, null);\n      cells.push(React.createElement(\n        View,\n        {\n          key: '$empty',\n          onLayout: this._onLayoutEmpty,\n          style: inversionStyle },\n        _element\n      ));\n    }\n    if (ListFooterComponent) {\n      var _element2 = React.isValidElement(ListFooterComponent) ? ListFooterComponent :\n      // $FlowFixMe\n      React.createElement(ListFooterComponent, null);\n      cells.push(React.createElement(\n        VirtualizedCellWrapper,\n        {\n          cellKey: this._getCellKey() + '-footer',\n          key: '$footer' },\n        React.createElement(\n          View,\n          { onLayout: this._onLayoutFooter, style: inversionStyle },\n          _element2\n        )\n      ));\n    }\n    var scrollProps = Object.assign({}, this.props, {\n      onContentSizeChange: this._onContentSizeChange,\n      onLayout: this._onLayout,\n      onScroll: this._onScroll,\n      onScrollBeginDrag: this._onScrollBeginDrag,\n      onScrollEndDrag: this._onScrollEndDrag,\n      onMomentumScrollEnd: this._onMomentumScrollEnd,\n      scrollEventThrottle: this.props.scrollEventThrottle, // TODO: Android support\n      invertStickyHeaders: this.props.invertStickyHeaders !== undefined ? this.props.invertStickyHeaders : this.props.inverted,\n      stickyHeaderIndices: stickyHeaderIndices\n    });\n    if (inversionStyle) {\n      scrollProps.style = [inversionStyle, this.props.style];\n    }\n\n    this._hasMore = this.state.last < this.props.getItemCount(this.props.data) - 1;\n\n    var ret = React.cloneElement((this.props.renderScrollComponent || this._defaultRenderScrollComponent)(scrollProps), {\n      ref: this._captureScrollRef\n    }, cells);\n    if (this.props.debug) {\n      return React.createElement(\n        View,\n        { style: { flex: 1 } },\n        ret,\n        this._renderDebugOverlay()\n      );\n    } else {\n      return ret;\n    }\n  };\n\n  VirtualizedList.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _props6 = this.props,\n        data = _props6.data,\n        extraData = _props6.extraData;\n\n    if (data !== prevProps.data || extraData !== prevProps.extraData) {\n      this._hasDataChangedSinceEndReached = true;\n\n      // clear the viewableIndices cache to also trigger\n      // the onViewableItemsChanged callback with the new data\n      this._viewabilityTuples.forEach(function (tuple) {\n        tuple.viewabilityHelper.resetViewableIndices();\n      });\n    }\n    this._scheduleCellsToRenderUpdate();\n  };\n  // Maps a cell key to the set of keys for all outermost child lists within that cell\n\n\n  VirtualizedList.prototype._computeBlankness = function _computeBlankness() {\n    this._fillRateHelper.computeBlankness(this.props, this.state, this._scrollMetrics);\n  };\n\n  VirtualizedList.prototype._onCellLayout = function _onCellLayout(e, cellKey, index) {\n    var layout = e.nativeEvent.layout;\n    var next = {\n      offset: this._selectOffset(layout),\n      length: this._selectLength(layout),\n      index: index,\n      inLayout: true\n    };\n    var curr = this._frames[cellKey];\n    if (!curr || next.offset !== curr.offset || next.length !== curr.length || index !== curr.index) {\n      this._totalCellLength += next.length - (curr ? curr.length : 0);\n      this._totalCellsMeasured += curr ? 0 : 1;\n      this._averageCellLength = this._totalCellLength / this._totalCellsMeasured;\n      this._frames[cellKey] = next;\n      this._highestMeasuredFrameIndex = Math.max(this._highestMeasuredFrameIndex, index);\n      this._scheduleCellsToRenderUpdate();\n    } else {\n      this._frames[cellKey].inLayout = true;\n    }\n    this._computeBlankness();\n  };\n\n  VirtualizedList.prototype._measureLayoutRelativeToContainingList = function _measureLayoutRelativeToContainingList() {\n    var _this3 = this;\n\n    UIManager.measureLayout(findNodeHandle(this), findNodeHandle(this.context.virtualizedList.getOutermostParentListRef()), function (error) {\n      console.warn(\"VirtualizedList: Encountered an error while measuring a list's\" + ' offset from its containing VirtualizedList.');\n    }, function (x, y, width, height) {\n      _this3._offsetFromParentVirtualizedList = _this3._selectOffset({ x: x, y: y });\n      _this3._scrollMetrics.contentLength = _this3._selectLength({ width: width, height: height });\n\n      var scrollMetrics = _this3._convertParentScrollMetrics(_this3.context.virtualizedList.getScrollMetrics());\n      _this3._scrollMetrics.visibleLength = scrollMetrics.visibleLength;\n      _this3._scrollMetrics.offset = scrollMetrics.offset;\n    });\n  };\n\n  VirtualizedList.prototype._renderDebugOverlay = function _renderDebugOverlay() {\n    var normalize = this._scrollMetrics.visibleLength / this._scrollMetrics.contentLength;\n    var framesInLayout = [];\n    var itemCount = this.props.getItemCount(this.props.data);\n    for (var ii = 0; ii < itemCount; ii++) {\n      var frame = this._getFrameMetricsApprox(ii);\n      if (frame.inLayout) {\n        framesInLayout.push(frame);\n      }\n    }\n    var windowTop = this._getFrameMetricsApprox(this.state.first).offset;\n    var frameLast = this._getFrameMetricsApprox(this.state.last);\n    var windowLen = frameLast.offset + frameLast.length - windowTop;\n    var visTop = this._scrollMetrics.offset;\n    var visLen = this._scrollMetrics.visibleLength;\n    var baseStyle = { position: 'absolute', top: 0, right: 0 };\n    return React.createElement(\n      View,\n      {\n        style: Object.assign({}, baseStyle, {\n          bottom: 0,\n          width: 20,\n          borderColor: 'blue',\n          borderWidth: 1\n        }) },\n      framesInLayout.map(function (f, ii) {\n        return React.createElement(View, {\n          key: 'f' + ii,\n          style: Object.assign({}, baseStyle, {\n            left: 0,\n            top: f.offset * normalize,\n            height: f.length * normalize,\n            backgroundColor: 'orange'\n          })\n        });\n      }),\n      React.createElement(View, {\n        style: Object.assign({}, baseStyle, {\n          left: 0,\n          top: windowTop * normalize,\n          height: windowLen * normalize,\n          borderColor: 'green',\n          borderWidth: 2\n        })\n      }),\n      React.createElement(View, {\n        style: Object.assign({}, baseStyle, {\n          left: 0,\n          top: visTop * normalize,\n          height: visLen * normalize,\n          borderColor: 'red',\n          borderWidth: 2\n        })\n      })\n    );\n  };\n\n  VirtualizedList.prototype._selectLength = function _selectLength(metrics) {\n    return !this.props.horizontal ? metrics.height : metrics.width;\n  };\n\n  VirtualizedList.prototype._selectOffset = function _selectOffset(metrics) {\n    return !this.props.horizontal ? metrics.y : metrics.x;\n  };\n\n  VirtualizedList.prototype._maybeCallOnEndReached = function _maybeCallOnEndReached() {\n    var _props7 = this.props,\n        data = _props7.data,\n        getItemCount = _props7.getItemCount,\n        onEndReached = _props7.onEndReached,\n        onEndReachedThreshold = _props7.onEndReachedThreshold;\n    var _scrollMetrics = this._scrollMetrics,\n        contentLength = _scrollMetrics.contentLength,\n        visibleLength = _scrollMetrics.visibleLength,\n        offset = _scrollMetrics.offset;\n\n    var distanceFromEnd = contentLength - visibleLength - offset;\n    if (onEndReached && this.state.last === getItemCount(data) - 1 &&\n    /* $FlowFixMe(>=0.63.0 site=react_native_fb) This comment suppresses an\n     * error found when Flow v0.63 was deployed. To see the error delete this\n     * comment and run Flow. */\n    distanceFromEnd < onEndReachedThreshold * visibleLength && (this._hasDataChangedSinceEndReached || this._scrollMetrics.contentLength !== this._sentEndForContentLength)) {\n      // Only call onEndReached once for a given dataset + content length.\n      this._hasDataChangedSinceEndReached = false;\n      this._sentEndForContentLength = this._scrollMetrics.contentLength;\n      onEndReached({ distanceFromEnd: distanceFromEnd });\n    }\n  };\n\n  /* Translates metrics from a scroll event in a parent VirtualizedList into\n   * coordinates relative to the child list.\n   */\n\n\n  VirtualizedList.prototype._scheduleCellsToRenderUpdate = function _scheduleCellsToRenderUpdate() {\n    var _state2 = this.state,\n        first = _state2.first,\n        last = _state2.last;\n    var _scrollMetrics2 = this._scrollMetrics,\n        offset = _scrollMetrics2.offset,\n        visibleLength = _scrollMetrics2.visibleLength,\n        velocity = _scrollMetrics2.velocity;\n\n    var itemCount = this.props.getItemCount(this.props.data);\n    var hiPri = false;\n    if (first > 0 || last < itemCount - 1) {\n      var distTop = offset - this._getFrameMetricsApprox(first).offset;\n      var distBottom = this._getFrameMetricsApprox(last).offset - (offset + visibleLength);\n      var scrollingThreshold =\n      /* $FlowFixMe(>=0.63.0 site=react_native_fb) This comment suppresses an\n       * error found when Flow v0.63 was deployed. To see the error delete\n       * this comment and run Flow. */\n      this.props.onEndReachedThreshold * visibleLength / 2;\n      hiPri = Math.min(distTop, distBottom) < 0 || velocity < -2 && distTop < scrollingThreshold || velocity > 2 && distBottom < scrollingThreshold;\n    }\n    // Only trigger high-priority updates if we've actually rendered cells,\n    // and with that size estimate, accurately compute how many cells we should render.\n    // Otherwise, it would just render as many cells as it can (of zero dimension),\n    // each time through attempting to render more (limited by maxToRenderPerBatch),\n    // starving the renderer from actually laying out the objects and computing _averageCellLength.\n    if (hiPri && this._averageCellLength) {\n      // Don't worry about interactions when scrolling quickly; focus on filling content as fast\n      // as possible.\n      this._updateCellsToRenderBatcher.dispose({ abort: true });\n      this._updateCellsToRender();\n      return;\n    } else {\n      this._updateCellsToRenderBatcher.schedule();\n    }\n  };\n\n  VirtualizedList.prototype._updateViewableItems = function _updateViewableItems(data) {\n    var _this4 = this;\n\n    var getItemCount = this.props.getItemCount;\n\n\n    this._viewabilityTuples.forEach(function (tuple) {\n      tuple.viewabilityHelper.onUpdate(getItemCount(data), _this4._scrollMetrics.offset, _this4._scrollMetrics.visibleLength, _this4._getFrameMetrics, _this4._createViewToken, tuple.onViewableItemsChanged, _this4.state);\n    });\n  };\n\n  return VirtualizedList;\n}(React.PureComponent);\n\nVirtualizedList.defaultProps = {\n  disableVirtualization: process.env.NODE_ENV === 'test',\n  horizontal: false,\n  initialNumToRender: 10,\n  keyExtractor: function keyExtractor(item, index) {\n    if (item.key != null) {\n      return item.key;\n    }\n    _usedIndexForKey = true;\n    return String(index);\n  },\n  maxToRenderPerBatch: 10,\n  onEndReachedThreshold: 2, // multiples of length\n  scrollEventThrottle: 50,\n  updateCellsBatchingPeriod: 50,\n  windowSize: 21 // multiples of length\n};\nVirtualizedList.contextTypes = {\n  virtualizedCell: PropTypes.shape({\n    cellKey: PropTypes.string\n  }),\n  virtualizedList: PropTypes.shape({\n    getScrollMetrics: PropTypes.func,\n    horizontal: PropTypes.bool,\n    getOutermostParentListRef: PropTypes.func,\n    getNestedChildState: PropTypes.func,\n    registerAsNestedChild: PropTypes.func,\n    unregisterAsNestedChild: PropTypes.func\n  })\n};\nVirtualizedList.childContextTypes = {\n  virtualizedList: PropTypes.shape({\n    getScrollMetrics: PropTypes.func,\n    horizontal: PropTypes.bool,\n    getOutermostParentListRef: PropTypes.func,\n    getNestedChildState: PropTypes.func,\n    registerAsNestedChild: PropTypes.func,\n    unregisterAsNestedChild: PropTypes.func\n  })\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this7 = this;\n\n  this._getScrollMetrics = function () {\n    return _this7._scrollMetrics;\n  };\n\n  this._getOutermostParentListRef = function () {\n    if (_this7._isNestedWithSameOrientation()) {\n      return _this7.context.virtualizedList.getOutermostParentListRef();\n    } else {\n      return _this7;\n    }\n  };\n\n  this._getNestedChildState = function (key) {\n    var existingChildData = _this7._nestedChildLists.get(key);\n    return existingChildData && existingChildData.state;\n  };\n\n  this._registerAsNestedChild = function (childList) {\n    // Register the mapping between this child key and the cellKey for its cell\n    var childListsInCell = _this7._cellKeysToChildListKeys.get(childList.cellKey) || new Set();\n    childListsInCell.add(childList.key);\n    _this7._cellKeysToChildListKeys.set(childList.cellKey, childListsInCell);\n\n    var existingChildData = _this7._nestedChildLists.get(childList.key);\n    invariant(!(existingChildData && existingChildData.ref !== null), 'A VirtualizedList contains a cell which itself contains ' + 'more than one VirtualizedList of the same orientation as the parent ' + 'list. You must pass a unique listKey prop to each sibling list.');\n    _this7._nestedChildLists.set(childList.key, {\n      ref: childList.ref,\n      state: null\n    });\n\n    if (_this7._hasInteracted) {\n      childList.ref.recordInteraction();\n    }\n  };\n\n  this._unregisterAsNestedChild = function (childList) {\n    _this7._nestedChildLists.set(childList.key, {\n      ref: null,\n      state: childList.state\n    });\n  };\n\n  this._onUpdateSeparators = function (keys, newProps) {\n    keys.forEach(function (key) {\n      var ref = key != null && _this7._cellRefs[key];\n      ref && ref.updateSeparatorProps(newProps);\n    });\n  };\n\n  this._averageCellLength = 0;\n  this._cellKeysToChildListKeys = new Map();\n  this._cellRefs = {};\n  this._frames = {};\n  this._footerLength = 0;\n  this._hasDataChangedSinceEndReached = true;\n  this._hasInteracted = false;\n  this._hasMore = false;\n  this._hasWarned = {};\n  this._highestMeasuredFrameIndex = 0;\n  this._headerLength = 0;\n  this._indicesToKeys = new Map();\n  this._hasDoneInitialScroll = false;\n  this._nestedChildLists = new Map();\n  this._offsetFromParentVirtualizedList = 0;\n  this._prevParentOffset = 0;\n  this._scrollMetrics = {\n    contentLength: 0,\n    dOffset: 0,\n    dt: 10,\n    offset: 0,\n    timestamp: 0,\n    velocity: 0,\n    visibleLength: 0\n  };\n  this._scrollRef = null;\n  this._sentEndForContentLength = 0;\n  this._totalCellLength = 0;\n  this._totalCellsMeasured = 0;\n  this._viewabilityTuples = [];\n\n  this._captureScrollRef = function (ref) {\n    _this7._scrollRef = ref;\n  };\n\n  this._defaultRenderScrollComponent = function (props) {\n    if (_this7._isNestedWithSameOrientation()) {\n      return React.createElement(View, props);\n    } else if (props.onRefresh) {\n      invariant(typeof props.refreshing === 'boolean', '`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `' + JSON.stringify(props.refreshing) + '`');\n      return React.createElement(ScrollView, _extends({}, props, {\n        refreshControl:\n        /* $FlowFixMe(>=0.53.0 site=react_native_fb,react_native_oss) This\n         * comment suppresses an error when upgrading Flow's support for\n         * React. To see the error delete this comment and run Flow. */\n        React.createElement(RefreshControl, {\n          refreshing: props.refreshing,\n          onRefresh: props.onRefresh,\n          progressViewOffset: props.progressViewOffset\n        })\n      }));\n    } else {\n      return React.createElement(ScrollView, props);\n    }\n  };\n\n  this._onCellUnmount = function (cellKey) {\n    var curr = _this7._frames[cellKey];\n    if (curr) {\n      _this7._frames[cellKey] = Object.assign({}, curr, { inLayout: false });\n    }\n  };\n\n  this._onLayout = function (e) {\n    if (_this7._isNestedWithSameOrientation()) {\n      // Need to adjust our scroll metrics to be relative to our containing\n      // VirtualizedList before we can make claims about list item viewability\n      _this7._measureLayoutRelativeToContainingList();\n    } else {\n      _this7._scrollMetrics.visibleLength = _this7._selectLength(e.nativeEvent.layout);\n    }\n    _this7.props.onLayout && _this7.props.onLayout(e);\n    _this7._scheduleCellsToRenderUpdate();\n    _this7._maybeCallOnEndReached();\n  };\n\n  this._onLayoutEmpty = function (e) {\n    _this7.props.onLayout && _this7.props.onLayout(e);\n  };\n\n  this._onLayoutFooter = function (e) {\n    _this7._footerLength = _this7._selectLength(e.nativeEvent.layout);\n  };\n\n  this._onLayoutHeader = function (e) {\n    _this7._headerLength = _this7._selectLength(e.nativeEvent.layout);\n  };\n\n  this._onContentSizeChange = function (width, height) {\n    if (width > 0 && height > 0 && _this7.props.initialScrollIndex != null && _this7.props.initialScrollIndex > 0 && !_this7._hasDoneInitialScroll) {\n      _this7.scrollToIndex({\n        animated: false,\n        index: _this7.props.initialScrollIndex\n      });\n      _this7._hasDoneInitialScroll = true;\n    }\n    if (_this7.props.onContentSizeChange) {\n      _this7.props.onContentSizeChange(width, height);\n    }\n    _this7._scrollMetrics.contentLength = _this7._selectLength({ height: height, width: width });\n    _this7._scheduleCellsToRenderUpdate();\n    _this7._maybeCallOnEndReached();\n  };\n\n  this._convertParentScrollMetrics = function (metrics) {\n    // Offset of the top of the nested list relative to the top of its parent's viewport\n    var offset = metrics.offset - _this7._offsetFromParentVirtualizedList;\n    // Child's visible length is the same as its parent's\n    var visibleLength = metrics.visibleLength;\n    var dOffset = offset - _this7._scrollMetrics.offset;\n    var contentLength = _this7._scrollMetrics.contentLength;\n\n    return {\n      visibleLength: visibleLength,\n      contentLength: contentLength,\n      offset: offset,\n      dOffset: dOffset\n    };\n  };\n\n  this._onScroll = function (e) {\n    _this7._nestedChildLists.forEach(function (childList) {\n      childList.ref && childList.ref._onScroll(e);\n    });\n    if (_this7.props.onScroll) {\n      _this7.props.onScroll(e);\n    }\n    var timestamp = e.timeStamp;\n    var visibleLength = _this7._selectLength(e.nativeEvent.layoutMeasurement);\n    var contentLength = _this7._selectLength(e.nativeEvent.contentSize);\n    var offset = _this7._selectOffset(e.nativeEvent.contentOffset);\n    var dOffset = offset - _this7._scrollMetrics.offset;\n\n    if (_this7._isNestedWithSameOrientation()) {\n      if (_this7._scrollMetrics.contentLength === 0) {\n        // Ignore scroll events until onLayout has been called and we\n        // know our offset from our offset from our parent\n        return;\n      }\n\n      var _convertParentScrollM = _this7._convertParentScrollMetrics({\n        visibleLength: visibleLength,\n        offset: offset\n      });\n\n      visibleLength = _convertParentScrollM.visibleLength;\n      contentLength = _convertParentScrollM.contentLength;\n      offset = _convertParentScrollM.offset;\n      dOffset = _convertParentScrollM.dOffset;\n    }\n\n    var dt = _this7._scrollMetrics.timestamp ? Math.max(1, timestamp - _this7._scrollMetrics.timestamp) : 1;\n    var velocity = dOffset / dt;\n\n    if (dt > 500 && _this7._scrollMetrics.dt > 500 && contentLength > 5 * visibleLength && !_this7._hasWarned.perf) {\n      infoLog('VirtualizedList: You have a large list that is slow to update - make sure your ' + 'renderItem function renders components that follow React performance best practices ' + 'like PureComponent, shouldComponentUpdate, etc.', { dt: dt, prevDt: _this7._scrollMetrics.dt, contentLength: contentLength });\n      _this7._hasWarned.perf = true;\n    }\n    _this7._scrollMetrics = {\n      contentLength: contentLength,\n      dt: dt,\n      dOffset: dOffset,\n      offset: offset,\n      timestamp: timestamp,\n      velocity: velocity,\n      visibleLength: visibleLength\n    };\n    _this7._updateViewableItems(_this7.props.data);\n    if (!_this7.props) {\n      return;\n    }\n    _this7._maybeCallOnEndReached();\n    if (velocity !== 0) {\n      _this7._fillRateHelper.activate();\n    }\n    _this7._computeBlankness();\n    _this7._scheduleCellsToRenderUpdate();\n  };\n\n  this._onScrollBeginDrag = function (e) {\n    _this7._nestedChildLists.forEach(function (childList) {\n      childList.ref && childList.ref._onScrollBeginDrag(e);\n    });\n    _this7._viewabilityTuples.forEach(function (tuple) {\n      tuple.viewabilityHelper.recordInteraction();\n    });\n    _this7._hasInteracted = true;\n    _this7.props.onScrollBeginDrag && _this7.props.onScrollBeginDrag(e);\n  };\n\n  this._onScrollEndDrag = function (e) {\n    var velocity = e.nativeEvent.velocity;\n\n    if (velocity) {\n      _this7._scrollMetrics.velocity = _this7._selectOffset(velocity);\n    }\n    _this7._computeBlankness();\n    _this7.props.onScrollEndDrag && _this7.props.onScrollEndDrag(e);\n  };\n\n  this._onMomentumScrollEnd = function (e) {\n    _this7._scrollMetrics.velocity = 0;\n    _this7._computeBlankness();\n    _this7.props.onMomentumScrollEnd && _this7.props.onMomentumScrollEnd(e);\n  };\n\n  this._updateCellsToRender = function () {\n    var _props9 = _this7.props,\n        data = _props9.data,\n        getItemCount = _props9.getItemCount,\n        onEndReachedThreshold = _props9.onEndReachedThreshold;\n\n    var isVirtualizationDisabled = _this7._isVirtualizationDisabled();\n    _this7._updateViewableItems(data);\n    if (!data) {\n      return;\n    }\n    _this7.setState(function (state) {\n      var newState = void 0;\n      if (!isVirtualizationDisabled) {\n        // If we run this with bogus data, we'll force-render window {first: 0, last: 0},\n        // and wipe out the initialNumToRender rendered elements.\n        // So let's wait until the scroll view metrics have been set up. And until then,\n        // we will trust the initialNumToRender suggestion\n        if (_this7._scrollMetrics.visibleLength) {\n          // If we have a non-zero initialScrollIndex and run this before we've scrolled,\n          // we'll wipe out the initialNumToRender rendered elements starting at initialScrollIndex.\n          // So let's wait until we've scrolled the view to the right place. And until then,\n          // we will trust the initialScrollIndex suggestion.\n          if (!_this7.props.initialScrollIndex || _this7._scrollMetrics.offset) {\n            newState = computeWindowedRenderLimits(_this7.props, state, _this7._getFrameMetricsApprox, _this7._scrollMetrics);\n          }\n        }\n      } else {\n        var _scrollMetrics3 = _this7._scrollMetrics,\n            contentLength = _scrollMetrics3.contentLength,\n            _offset = _scrollMetrics3.offset,\n            visibleLength = _scrollMetrics3.visibleLength;\n\n        var _distanceFromEnd = contentLength - visibleLength - _offset;\n        var renderAhead =\n        /* $FlowFixMe(>=0.63.0 site=react_native_fb) This comment suppresses\n         * an error found when Flow v0.63 was deployed. To see the error\n         * delete this comment and run Flow. */\n        _distanceFromEnd < onEndReachedThreshold * visibleLength ? _this7.props.maxToRenderPerBatch : 0;\n        newState = {\n          first: 0,\n          last: Math.min(state.last + renderAhead, getItemCount(data) - 1)\n        };\n      }\n      if (newState && _this7._nestedChildLists.size > 0) {\n        var newFirst = newState.first;\n        var newLast = newState.last;\n        // If some cell in the new state has a child list in it, we should only render\n        // up through that item, so that we give that list a chance to render.\n        // Otherwise there's churn from multiple child lists mounting and un-mounting\n        // their items.\n        for (var ii = newFirst; ii <= newLast; ii++) {\n          var cellKeyForIndex = _this7._indicesToKeys.get(ii);\n          var childListKeys = cellKeyForIndex && _this7._cellKeysToChildListKeys.get(cellKeyForIndex);\n          if (!childListKeys) {\n            continue;\n          }\n          var someChildHasMore = false;\n          // For each cell, need to check whether any child list in it has more elements to render\n          for (var _iterator = childListKeys, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n            var _ref6;\n\n            if (_isArray) {\n              if (_i >= _iterator.length) break;\n              _ref6 = _iterator[_i++];\n            } else {\n              _i = _iterator.next();\n              if (_i.done) break;\n              _ref6 = _i.value;\n            }\n\n            var childKey = _ref6;\n\n            var childList = _this7._nestedChildLists.get(childKey);\n            if (childList && childList.ref && childList.ref.hasMore()) {\n              someChildHasMore = true;\n              break;\n            }\n          }\n          if (someChildHasMore) {\n            newState.last = ii;\n            break;\n          }\n        }\n      }\n      return newState;\n    });\n  };\n\n  this._createViewToken = function (index, isViewable) {\n    var _props10 = _this7.props,\n        data = _props10.data,\n        getItem = _props10.getItem,\n        keyExtractor = _props10.keyExtractor;\n\n    var item = getItem(data, index);\n    return { index: index, item: item, key: keyExtractor(item, index), isViewable: isViewable };\n  };\n\n  this._getFrameMetricsApprox = function (index) {\n    var frame = _this7._getFrameMetrics(index);\n    if (frame && frame.index === index) {\n      // check for invalid frames due to row re-ordering\n      return frame;\n    } else {\n      var _getItemLayout = _this7.props.getItemLayout;\n\n      invariant(!_getItemLayout, 'Should not have to estimate frames when a measurement metrics function is provided');\n      return {\n        length: _this7._averageCellLength,\n        offset: _this7._averageCellLength * index\n      };\n    }\n  };\n\n  this._getFrameMetrics = function (index) {\n    var _props11 = _this7.props,\n        data = _props11.data,\n        getItem = _props11.getItem,\n        getItemCount = _props11.getItemCount,\n        getItemLayout = _props11.getItemLayout,\n        keyExtractor = _props11.keyExtractor;\n\n    invariant(getItemCount(data) > index, 'Tried to get frame for out of range index ' + index);\n    var item = getItem(data, index);\n    var frame = item && _this7._frames[keyExtractor(item, index)];\n    if (!frame || frame.index !== index) {\n      if (getItemLayout) {\n        frame = getItemLayout(data, index);\n        if (__DEV__) {\n          var frameType = PropTypes.shape({\n            length: PropTypes.number.isRequired,\n            offset: PropTypes.number.isRequired,\n            index: PropTypes.number.isRequired\n          }).isRequired;\n          PropTypes.checkPropTypes({ frame: frameType }, { frame: frame }, 'frame', 'VirtualizedList.getItemLayout');\n        }\n      }\n    }\n    /* $FlowFixMe(>=0.63.0 site=react_native_fb) This comment suppresses an\n     * error found when Flow v0.63 was deployed. To see the error delete this\n     * comment and run Flow. */\n    return frame;\n  };\n};\n\nvar CellRenderer = function (_React$Component) {\n  _inherits(CellRenderer, _React$Component);\n\n  function CellRenderer() {\n    var _temp, _this5, _ret2;\n\n    _classCallCheck(this, CellRenderer);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret2 = (_temp = (_this5 = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this5), _this5.state = {\n      separatorProps: {\n        highlighted: false,\n        leadingItem: _this5.props.item\n      }\n    }, _this5._separators = {\n      highlight: function highlight() {\n        var _this5$props = _this5.props,\n            cellKey = _this5$props.cellKey,\n            prevCellKey = _this5$props.prevCellKey;\n\n        _this5.props.onUpdateSeparators([cellKey, prevCellKey], {\n          highlighted: true\n        });\n      },\n      unhighlight: function unhighlight() {\n        var _this5$props2 = _this5.props,\n            cellKey = _this5$props2.cellKey,\n            prevCellKey = _this5$props2.prevCellKey;\n\n        _this5.props.onUpdateSeparators([cellKey, prevCellKey], {\n          highlighted: false\n        });\n      },\n      updateProps: function updateProps(select, newProps) {\n        var _this5$props3 = _this5.props,\n            cellKey = _this5$props3.cellKey,\n            prevCellKey = _this5$props3.prevCellKey;\n\n        _this5.props.onUpdateSeparators([select === 'leading' ? prevCellKey : cellKey], newProps);\n      }\n    }, _temp), _possibleConstructorReturn(_this5, _ret2);\n  }\n\n  CellRenderer.prototype.getChildContext = function getChildContext() {\n    return {\n      virtualizedCell: {\n        cellKey: this.props.cellKey\n      }\n    };\n  };\n\n  // TODO: consider factoring separator stuff out of VirtualizedList into FlatList since it's not\n  // reused by SectionList and we can keep VirtualizedList simpler.\n\n\n  CellRenderer.prototype.updateSeparatorProps = function updateSeparatorProps(newProps) {\n    this.setState(function (state) {\n      return {\n        separatorProps: Object.assign({}, state.separatorProps, newProps)\n      };\n    });\n  };\n\n  CellRenderer.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.props.onUnmount(this.props.cellKey);\n  };\n\n  CellRenderer.prototype.render = function render() {\n    var _props8 = this.props,\n        CellRendererComponent = _props8.CellRendererComponent,\n        ItemSeparatorComponent = _props8.ItemSeparatorComponent,\n        fillRateHelper = _props8.fillRateHelper,\n        horizontal = _props8.horizontal,\n        item = _props8.item,\n        index = _props8.index,\n        inversionStyle = _props8.inversionStyle,\n        parentProps = _props8.parentProps;\n    var renderItem = parentProps.renderItem,\n        getItemLayout = parentProps.getItemLayout;\n\n    invariant(renderItem, 'no renderItem!');\n    var element = renderItem({\n      item: item,\n      index: index,\n      separators: this._separators\n    });\n    var onLayout = getItemLayout && !parentProps.debug && !fillRateHelper.enabled() ? undefined : this.props.onLayout;\n    // NOTE: that when this is a sticky header, `onLayout` will get automatically extracted and\n    // called explicitly by `ScrollViewStickyHeader`.\n    var itemSeparator = ItemSeparatorComponent && React.createElement(ItemSeparatorComponent, this.state.separatorProps);\n    var cellStyle = inversionStyle ? horizontal ? [styles.rowReverse, inversionStyle] : [styles.columnReverse, inversionStyle] : horizontal ? [styles.row, inversionStyle] : inversionStyle;\n    if (!CellRendererComponent) {\n      return React.createElement(\n        View,\n        { style: cellStyle, onLayout: onLayout },\n        element,\n        itemSeparator\n      );\n    }\n    return React.createElement(\n      CellRendererComponent,\n      _extends({}, this.props, {\n        style: cellStyle,\n        onLayout: onLayout }),\n      element,\n      itemSeparator\n    );\n  };\n\n  return CellRenderer;\n}(React.Component);\n\nCellRenderer.childContextTypes = {\n  virtualizedCell: PropTypes.shape({\n    cellKey: PropTypes.string\n  })\n};\n\nvar VirtualizedCellWrapper = function (_React$Component2) {\n  _inherits(VirtualizedCellWrapper, _React$Component2);\n\n  function VirtualizedCellWrapper() {\n    _classCallCheck(this, VirtualizedCellWrapper);\n\n    return _possibleConstructorReturn(this, _React$Component2.apply(this, arguments));\n  }\n\n  VirtualizedCellWrapper.prototype.getChildContext = function getChildContext() {\n    return {\n      virtualizedCell: {\n        cellKey: this.props.cellKey\n      }\n    };\n  };\n\n  VirtualizedCellWrapper.prototype.render = function render() {\n    return this.props.children;\n  };\n\n  return VirtualizedCellWrapper;\n}(React.Component);\n\nVirtualizedCellWrapper.childContextTypes = {\n  virtualizedCell: PropTypes.shape({\n    cellKey: PropTypes.string\n  })\n};\n\n\nvar styles = StyleSheet.create({\n  verticallyInverted: {\n    transform: [{ scaleY: -1 }]\n  },\n  horizontallyInverted: {\n    transform: [{ scaleX: -1 }]\n  },\n  row: {\n    flexDirection: 'row'\n  },\n  rowReverse: {\n    flexDirection: 'row-reverse'\n  },\n  columnReverse: {\n    flexDirection: 'column-reverse'\n  }\n});\n\nexport default VirtualizedList;"],"mappings":"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"},"metadata":{},"sourceType":"script"}