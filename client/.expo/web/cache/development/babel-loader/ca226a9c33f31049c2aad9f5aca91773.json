{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CountryPicker = void 0;\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _CountryModal = require(\"./CountryModal\");\nvar _HeaderModal = require(\"./HeaderModal\");\nvar _types = require(\"./types\");\nvar _CountryFilter = require(\"./CountryFilter\");\nvar _FlagButton = require(\"./FlagButton\");\nvar _CountryContext = require(\"./CountryContext\");\nvar _CountryList = require(\"./CountryList\");\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nvar renderFlagButton = function renderFlagButton(props) {\n  return props.renderFlagButton ? props.renderFlagButton(props) : _react.default.createElement(_FlagButton.FlagButton, Object.assign({}, props));\n};\nvar _renderFilter = function renderFilter(props) {\n  return props.renderCountryFilter ? props.renderCountryFilter(props) : _react.default.createElement(_CountryFilter.CountryFilter, Object.assign({}, props));\n};\nvar CountryPicker = function CountryPicker(props) {\n  var countryCode = props.countryCode,\n    region = props.region,\n    subregion = props.subregion,\n    countryCodes = props.countryCodes,\n    renderButton = props.renderFlagButton,\n    renderCountryFilter = props.renderCountryFilter,\n    filterProps = props.filterProps,\n    modalProps = props.modalProps,\n    flatListProps = props.flatListProps,\n    onSelect = props.onSelect,\n    withEmoji = props.withEmoji,\n    withFilter = props.withFilter,\n    withCloseButton = props.withCloseButton,\n    withCountryNameButton = props.withCountryNameButton,\n    withCallingCodeButton = props.withCallingCodeButton,\n    withCurrencyButton = props.withCurrencyButton,\n    containerButtonStyle = props.containerButtonStyle,\n    withAlphaFilter = props.withAlphaFilter,\n    withCallingCode = props.withCallingCode,\n    withCurrency = props.withCurrency,\n    withFlag = props.withFlag,\n    withModal = props.withModal,\n    disableNativeModal = props.disableNativeModal,\n    withFlagButton = props.withFlagButton,\n    handleClose = props.onClose,\n    handleOpen = props.onOpen,\n    closeButtonImage = props.closeButtonImage,\n    closeButtonStyle = props.closeButtonStyle,\n    closeButtonImageStyle = props.closeButtonImageStyle,\n    excludeCountries = props.excludeCountries,\n    placeholder = props.placeholder,\n    preferredCountries = props.preferredCountries;\n  var _useState = (0, _react.useState)({\n      visible: props.visible || false,\n      countries: [],\n      filter: '',\n      filterFocus: false\n    }),\n    _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n    state = _useState2[0],\n    setState = _useState2[1];\n  var _useContext = (0, _CountryContext.useContext)(),\n    translation = _useContext.translation,\n    getCountriesAsync = _useContext.getCountriesAsync;\n  var visible = state.visible,\n    filter = state.filter,\n    countries = state.countries,\n    filterFocus = state.filterFocus;\n  (0, _react.useEffect)(function () {\n    if (state.visible !== props.visible) {\n      setState(Object.assign({}, state, {\n        visible: props.visible || false\n      }));\n    }\n  }, [props.visible]);\n  var onOpen = function onOpen() {\n    setState(Object.assign({}, state, {\n      visible: true\n    }));\n    if (handleOpen) {\n      handleOpen();\n    }\n  };\n  var onClose = function onClose() {\n    setState(Object.assign({}, state, {\n      filter: '',\n      visible: false\n    }));\n    if (handleClose) {\n      handleClose();\n    }\n  };\n  var setFilter = function setFilter(filter) {\n    return setState(Object.assign({}, state, {\n      filter: filter\n    }));\n  };\n  var setCountries = function setCountries(countries) {\n    return setState(Object.assign({}, state, {\n      countries: countries\n    }));\n  };\n  var onSelectClose = function onSelectClose(country) {\n    onSelect(country);\n    onClose();\n  };\n  var onFocus = function onFocus() {\n    return setState(Object.assign({}, state, {\n      filterFocus: true\n    }));\n  };\n  var onBlur = function onBlur() {\n    return setState(Object.assign({}, state, {\n      filterFocus: false\n    }));\n  };\n  var flagProp = {\n    countryCode: countryCode,\n    withEmoji: withEmoji,\n    withCountryNameButton: withCountryNameButton,\n    withCallingCodeButton: withCallingCodeButton,\n    withCurrencyButton: withCurrencyButton,\n    withFlagButton: withFlagButton,\n    renderFlagButton: renderButton,\n    onOpen: onOpen,\n    containerButtonStyle: containerButtonStyle,\n    placeholder: placeholder\n  };\n  (0, _react.useEffect)(function () {\n    getCountriesAsync(withEmoji ? _types.FlagType.EMOJI : _types.FlagType.FLAT, translation, region, subregion, countryCodes, excludeCountries, preferredCountries, withAlphaFilter).then(setCountries).catch(console.warn);\n  }, [translation, withEmoji]);\n  return _react.default.createElement(_react.default.Fragment, null, withModal && renderFlagButton(flagProp), _react.default.createElement(_CountryModal.CountryModal, Object.assign({}, Object.assign({\n    visible: visible,\n    withModal: withModal,\n    disableNativeModal: disableNativeModal\n  }, modalProps), {\n    onRequestClose: onClose,\n    onDismiss: onClose\n  }), _react.default.createElement(_HeaderModal.HeaderModal, Object.assign({}, {\n    withFilter: withFilter,\n    onClose: onClose,\n    closeButtonImage: closeButtonImage,\n    closeButtonImageStyle: closeButtonImageStyle,\n    closeButtonStyle: closeButtonStyle,\n    withCloseButton: withCloseButton\n  }, {\n    renderFilter: function renderFilter(props) {\n      return _renderFilter(Object.assign({}, props, {\n        renderCountryFilter: renderCountryFilter,\n        onChangeText: setFilter,\n        value: filter,\n        onFocus: onFocus,\n        onBlur: onBlur\n      }, filterProps));\n    }\n  })), _react.default.createElement(_CountryList.CountryList, Object.assign({}, {\n    onSelect: onSelectClose,\n    data: countries,\n    letters: [],\n    withAlphaFilter: withAlphaFilter && filter === '',\n    withCallingCode: withCallingCode,\n    withCurrency: withCurrency,\n    withFlag: withFlag,\n    withEmoji: withEmoji,\n    filter: filter,\n    filterFocus: filterFocus,\n    flatListProps: flatListProps\n  }))));\n};\nexports.CountryPicker = CountryPicker;\nCountryPicker.defaultProps = {\n  withModal: true,\n  withAlphaFilter: false,\n  withCallingCode: false,\n  placeholder: 'Select Country'\n};","map":{"version":3,"mappings":"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","names":["renderFlagButton","props","React","FlagButton","renderFilter","renderCountryFilter","CountryFilter","CountryPicker","countryCode","region","subregion","countryCodes","renderButton","filterProps","modalProps","flatListProps","onSelect","withEmoji","withFilter","withCloseButton","withCountryNameButton","withCallingCodeButton","withCurrencyButton","containerButtonStyle","withAlphaFilter","withCallingCode","withCurrency","withFlag","withModal","disableNativeModal","withFlagButton","handleClose","onClose","handleOpen","onOpen","closeButtonImage","closeButtonStyle","closeButtonImageStyle","excludeCountries","placeholder","preferredCountries","visible","countries","filter","filterFocus","state","setState","translation","getCountriesAsync","setFilter","setCountries","onSelectClose","country","onFocus","onBlur","flagProp","FlagType","EMOJI","FLAT","then","catch","console","warn","CountryModal","onRequestClose","onDismiss","HeaderModal","onChangeText","value","CountryList","data","letters","defaultProps"],"sourceRoot":"","sources":["../src/CountryPicker.tsx"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}